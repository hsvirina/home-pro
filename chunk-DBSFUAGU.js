import{a as B,e as H}from"./chunk-J6SAVLMI.js";import{C as c,Cb as L,D as p,Ga as F,Ha as x,Ia as k,La as y,M as w,Ma as S,O as r,T as b,Ua as V,Va as M,Wa as W,Y as f,Z as I,Za as N,ba as a,bb as X,ca as s,da as l,ea as v,ka as _,la as d,ma as u,pa as T,qa as P,ra as E,va as C,wa as g,yb as z,zb as O}from"./chunk-EAEB62OB.js";var R=["sliderContainer"],D=(n,t)=>({"cursor-not-allowed opacity-50":n,"cursor-pointer":t}),j=(n,t,i)=>({transform:n,gap:t,transition:i}),A=n=>({width:n});function q(n,t){if(n&1&&(s(0,"h3",13),C(1),l()),n&2){let i=u();r(),g(i.title)}}function $(n,t){if(n&1&&(s(0,"span",14),C(1),l()),n&2){let i=u();r(),g(i.subtitle)}}function G(n,t){if(n&1){let i=_();s(0,"app-place-card",15),d("unauthorizedFavoriteClick",function(){c(i);let o=u();return p(o.unauthorizedFavoriteClick.emit())}),l()}if(n&2){let i=t.$implicit,e=u();a("place",i)("cardType",e.cardType)("ngStyle",F(3,A,e.cardWidth+"px"))}}var Q=class n{sliderContainer;places=[];title;subtitle;cardType="full";unauthorizedFavoriteClick=new I;ICONS=z;PlaceCardType=B;transitionStyle="transform 400ms ease-in-out";startIndex=0;visibleCount=4;cardWidth=315;gap=20;touchStartX=0;touchEndX=0;ngOnInit(){this.updateLayout()}get shift(){return this.startIndex*(this.cardWidth+this.gap)}updateLayout(){let t=window.innerWidth;if(t>=1440)this.visibleCount=4,this.cardWidth=315,this.gap=20;else if(t>=1320)this.visibleCount=3,this.cardWidth=315,this.gap=Math.floor((1320-3*this.cardWidth-80)/2);else if(t>=1024)this.visibleCount=3,this.cardWidth=301,this.gap=Math.floor((t-3*this.cardWidth-80)/2);else{this.cardWidth=315,this.gap=16;let e=t-40;this.visibleCount=Math.max(1,Math.floor((e+this.gap)/(this.cardWidth+this.gap)))}let i=Math.max(0,this.places.length-this.visibleCount);this.startIndex>i&&(this.startIndex=i)}prev(){this.startIndex=Math.max(this.startIndex-1,0)}next(){this.startIndex=Math.min(this.startIndex+1,this.places.length-this.visibleCount)}onTouchStart(t){this.touchStartX=t.touches[0].clientX}onTouchMove(t){this.touchEndX=t.touches[0].clientX}onTouchEnd(){let t=this.touchStartX-this.touchEndX;Math.abs(t)>50&&(t>0?this.next():this.prev()),this.touchStartX=0,this.touchEndX=0}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=b({type:n,selectors:[["app-slider-places"]],viewQuery:function(i,e){if(i&1&&T(R,5),i&2){let o;P(o=E())&&(e.sliderContainer=o.first)}},hostBindings:function(i,e){i&1&&d("resize",function(){return e.updateLayout()},w)},inputs:{places:"places",title:"title",subtitle:"subtitle",cardType:"cardType"},outputs:{unauthorizedFavoriteClick:"unauthorizedFavoriteClick"},decls:16,vars:28,consts:[["sliderContainer",""],["sliderTrack",""],[1,"flex","flex-col","items-center","gap-[24px]","pl-5","lg:px-0"],[1,"relative","mr-5","flex","w-full","items-center","justify-between"],["aria-label","Previous slide",1,"flex","p-2","focus:outline-none",3,"click","disabled","ngClass"],[3,"icon","width","height"],[1,"flex","flex-col","justify-center","text-center"],["class","text-[20px] lg:text-[32px] xxl:text-[40px]",4,"ngIf"],["class","body-font-1 mt-2",4,"ngIf"],["aria-label","Next slide",1,"p-2","focus:outline-none",3,"click","disabled","ngClass"],[1,"w-full","overflow-hidden","lg:py-0",3,"touchstart","touchmove","touchend"],[1,"flex",3,"ngStyle"],["class","flex-shrink-0",3,"place","cardType","ngStyle","unauthorizedFavoriteClick",4,"ngFor","ngForOf"],[1,"text-[20px]","lg:text-[32px]","xxl:text-[40px]"],[1,"body-font-1","mt-2"],[1,"flex-shrink-0",3,"unauthorizedFavoriteClick","place","cardType","ngStyle"]],template:function(i,e){if(i&1){let o=_();s(0,"div",2,0)(2,"div",3)(3,"button",4),d("click",function(){return c(o),p(e.prev())}),v(4,"app-icon",5),y(5,"themedIcon"),l(),s(6,"div",6),f(7,q,2,1,"h3",7)(8,$,2,1,"span",8),l(),s(9,"button",9),d("click",function(){return c(o),p(e.next())}),v(10,"app-icon",5),y(11,"themedIcon"),l()(),s(12,"div",10,1),d("touchstart",function(m){return c(o),p(e.onTouchStart(m))})("touchmove",function(m){return c(o),p(e.onTouchMove(m))})("touchend",function(){return c(o),p(e.onTouchEnd())}),s(14,"div",11),f(15,G,1,5,"app-place-card",12),l()()()}i&2&&(r(3),a("disabled",e.startIndex===0)("ngClass",x(18,D,e.startIndex===0,e.startIndex>0)),r(),a("icon",S(5,14,"ArrowLeft"))("width",32)("height",32),r(3),a("ngIf",e.title),r(),a("ngIf",e.subtitle),r(),a("disabled",e.startIndex>=e.places.length-e.visibleCount)("ngClass",x(21,D,e.startIndex>=e.places.length-e.visibleCount,e.startIndex<e.places.length-e.visibleCount)),r(),a("icon",S(11,16,"ArrowRight"))("width",32)("height",32),r(4),a("ngStyle",k(24,j,"translateX(-"+e.shift+"px)",e.gap+"px",e.transitionStyle)),r(),a("ngForOf",e.places))},dependencies:[X,V,M,W,N,H,O,L],encapsulation:2})};export{Q as a};
