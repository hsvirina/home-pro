import{G as b,N as i,Q as c,S as d,Ua as v,Va as C,X as p,aa as n,ab as x,ba as o,ca as s,da as f,jb as _,la as l,o as u,ob as S,pb as I,ua as m,ub as y,va as g,wa as h,xb as B,yb as O}from"./chunk-WDYIKGVT.js";function N(e,r){if(e&1&&(o(0,"a",7),m(1),s()),e&2){let t=l().$implicit;n("routerLink",t.url),i(),g(t.label)}}function T(e,r){if(e&1&&(o(0,"span",8),m(1),s()),e&2){let t=l().$implicit;i(),h(" ",t.label," ")}}function k(e,r){if(e&1&&f(0,"app-icon",9),e&2){let t=l(2);n("icon",t.ICONS.ArrowBack)}}function D(e,r){if(e&1&&(o(0,"li",3),p(1,N,2,2,"a",4)(2,T,2,1,"span",5)(3,k,1,1,"app-icon",6),s()),e&2){let t=r.last;i(),n("ngIf",!t),i(),n("ngIf",t),i(),n("ngIf",!t)}}var L=class e{constructor(r,t){this.router=r;this.translate=t;this.routerSubscription=this.router.events.pipe(u(a=>a instanceof _)).subscribe(()=>this.buildBreadcrumbs()),this.langSubscription=this.translate.onLangChange.subscribe(()=>this.buildBreadcrumbs())}lastLabel=null;ICONS=B;breadcrumbs=[];routerSubscription;langSubscription;ngOnChanges(r){r.lastLabel&&this.buildBreadcrumbs()}ngOnDestroy(){this.routerSubscription?.unsubscribe(),this.langSubscription?.unsubscribe()}buildBreadcrumbs(){let t=this.router.url.split("?")[0].split("#")[0].split("/").filter(Boolean);if(t.length===0||t[0]!=="catalog"){this.breadcrumbs=[];return}let a=[{label:this.translate.instant("breadcrumb.home"),url:"/"},{label:this.translate.instant("breadcrumb.catalog"),url:"/catalog"}];t.length===2&&/^\d+$/.test(t[1])&&a.push({label:this.lastLabel||this.translate.instant("breadcrumb.details"),url:`/catalog/${t[1]}`}),this.breadcrumbs=a}static \u0275fac=function(t){return new(t||e)(c(S),c(y))};static \u0275cmp=d({type:e,selectors:[["app-breadcrumbs"]],inputs:{lastLabel:"lastLabel"},features:[b],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"flex","flex-wrap","items-center","text-[var(--color-gray-75)]"],["class","button-font flex items-center",4,"ngFor","ngForOf"],[1,"button-font","flex","items-center"],[3,"routerLink",4,"ngIf"],["class","cursor-pointer text-[var(--color-primary)]",4,"ngIf"],["class","mx-3 inline-block rotate-180",3,"icon",4,"ngIf"],[3,"routerLink"],[1,"cursor-pointer","text-[var(--color-primary)]"],[1,"mx-3","inline-block","rotate-180",3,"icon"]],template:function(t,a){t&1&&(o(0,"nav",0)(1,"ol",1),p(2,D,4,3,"li",2),s()()),t&2&&(i(2),n("ngForOf",a.breadcrumbs))},dependencies:[x,v,C,I,O],encapsulation:2})};export{L as a};
