import{d as J}from"./chunk-XY75CFKU.js";import{a as Ce}from"./chunk-DBSFUAGU.js";import{a as he,e as ye}from"./chunk-J6SAVLMI.js";import{b as xe,c as ve,f as ue,j as A}from"./chunk-H5V2GQTQ.js";import{Aa as W,Ba as L,C as _,Ca as de,Cb as G,D as h,Da as me,Db as _e,Ea as fe,Ga as P,Ha as D,L as T,La as p,M as ae,Ma as s,Na as z,O as i,Oa as S,R as b,Ra as Q,T as M,Ua as U,Va as O,Wa as B,Y as f,Z as N,_a as H,a as re,aa as V,ab as K,b as oe,ba as l,bb as F,ca as a,da as o,ea as g,ia as w,ja as I,ka as C,la as y,ma as d,pa as le,pb as ge,qa as pe,ra as se,sa as E,ta as Y,va as m,vb as k,wa as u,wb as R,xa as x,xb as j,ya as ce,yb as q,za as $,zb as X}from"./chunk-EAEB62OB.js";var Me=t=>[t],Ie=t=>({"text-[var(--color-white)]":t});function Ve(t,n){if(t&1&&(g(0,"img",17),p(1,"badgeImage")),t&2){let e=d();l("src",s(1,2,e.badgeType),T)("alt",e.badgeType+" badge")}}function Be(t,n){if(t&1&&(w(0),g(1,"img",18),I()),t&2){let e=d();i(),l("src",e.editableUser.photoUrl,T)("ngClass","translate-middle h-[50px] w-[50px] lg:h-[100px] lg:w-[100px]")}}function Fe(t,n){if(t&1&&(a(0,"div",19),g(1,"app-icon",20),o()),t&2){let e=d();l("ngClass","translate-middle h-[50px] w-[50px] lg:h-[80px] lg:w-[80px]"),i(),l("icon",e.ICONS.UserProfile)("width",64)("height",64)}}function ke(t,n){if(t&1&&(a(0,"span",21),m(1),o()),t&2){let e=d();i(),x(" ",e.editableUser.status," ")}}function Re(t,n){if(t&1){let e=C();a(0,"textarea",22),L("ngModelChange",function(c){_(e);let v=d();return W(v.editableUser.status,c)||(v.editableUser.status=c),h(c)}),y("ngModelChange",function(c){_(e);let v=d();return h(v.fieldChange.emit({field:"status",value:c}))}),o()}if(t&2){let e=d();$("ngModel",e.editableUser.status)}}function Ne(t,n){if(t&1){let e=C();a(0,"div",23)(1,"button",24),y("click",function(){_(e);let c=d();return h(c.handleEditToggle())}),m(2),p(3,"translate"),p(4,"translate"),o()()}if(t&2){let e=d();i(2),x(" ",e.isEditing?s(3,1,"infoSector.save"):s(4,3,"infoSector.editProfile")," ")}}function Ue(t,n){if(t&1){let e=C();w(0),a(1,"div",35)(2,"input",36),L("ngModelChange",function(c){_(e);let v=d(2);return W(v.editableUser.firstName,c)||(v.editableUser.firstName=c),h(c)}),y("ngModelChange",function(c){_(e);let v=d(2);return h(v.fieldChange.emit({field:"firstName",value:c}))}),o(),a(3,"input",36),L("ngModelChange",function(c){_(e);let v=d(2);return W(v.editableUser.lastName,c)||(v.editableUser.lastName=c),h(c)}),y("ngModelChange",function(c){_(e);let v=d(2);return h(v.fieldChange.emit({field:"lastName",value:c}))}),o()(),I()}if(t&2){let e=d(2);i(2),$("ngModel",e.editableUser.firstName),i(),$("ngModel",e.editableUser.lastName)}}function Oe(t,n){if(t&1&&(a(0,"p",32),m(1),o()),t&2){let e=d(2);i(),ce(" ",e.editableUser.firstName," ",e.editableUser.lastName," ")}}function Ae(t,n){if(t&1&&(a(0,"div",25)(1,"div",26),p(2,"async"),a(3,"div",27),p(4,"async"),g(5,"app-icon",28),p(6,"themedIcon"),o(),a(7,"div",29)(8,"p",30),m(9),p(10,"translate"),o(),f(11,Ue,4,2,"ng-container",8)(12,Oe,2,2,"ng-template",null,2,S),o()(),a(14,"div",26),p(15,"async"),a(16,"div",27),p(17,"async"),g(18,"app-icon",31),p(19,"themedIcon"),o(),a(20,"div",29)(21,"p",30),m(22),p(23,"translate"),o(),a(24,"p",32),m(25),o()()(),a(26,"div",26),p(27,"async"),a(28,"div",27),p(29,"async"),g(30,"app-icon",31),p(31,"themedIcon"),o(),a(32,"div",33)(33,"p",30),m(34),p(35,"translate"),o(),a(36,"p",34),p(37,"async"),m(38),o()()()()),t&2){let e=E(13),r=d();i(),l("ngClass",s(2,17,r.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",s(4,19,r.currentTheme$)==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]"),i(2),l("icon",s(6,21,"IdPass")),i(4),u(s(10,23,"infoSector.fullName")),i(2),l("ngIf",r.isEditing)("ngIfElse",e),i(3),l("ngClass",s(15,25,r.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",s(17,27,r.currentTheme$)==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]"),i(2),l("icon",s(19,29,"Location")),i(4),u(s(23,31,"infoSector.location")),i(3),x(" ",r.editableUser.defaultCity,", Ukraine "),i(),l("ngClass",s(27,33,r.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",r.getBackgroundClass(s(29,35,r.currentTheme$))),i(2),l("icon",s(31,37,"Letter")),i(4),u(s(35,39,"infoSector.email")),i(2),l("ngClass",P(43,Ie,s(37,41,r.currentTheme$)==="dark")),i(2),x(" ",r.editableUser.email," ")}}function je(t,n){if(t&1){let e=C();a(0,"div",37)(1,"button",38),y("click",function(){_(e);let c=d();return h(c.handleEditToggle())}),m(2),p(3,"translate"),p(4,"translate"),o()()}if(t&2){let e=d();i(2),x(" ",e.isEditing?s(3,1,"infoSector.save"):s(4,3,"infoSector.editProfile")," ")}}function De(t,n){if(t&1){let e=C();a(0,"div",39)(1,"div",40)(2,"div",41)(3,"h4"),m(4),p(5,"translate"),o(),a(6,"p",42),m(7),p(8,"translate"),o()(),a(9,"button",43),y("click",function(){_(e);let c=d();return h(c.showInfoModal=!1)}),m(10),p(11,"translate"),o()()()}t&2&&(i(4),u(s(5,3,"infoSector.unsavedChanges")),i(3),x(" ",s(8,5,"infoSector.unsavedChangesMessage")," "),i(3),x(" ",s(11,7,"infoSector.gotIt")," "))}var be=class t{constructor(n){this.themeService=n;this.currentTheme$=this.themeService.theme$}ICONS=q;badgeType=null;public=!1;editableUser;isEditing=!1;hasPendingChanges=!1;onToggleEdit=new N;fieldChange=new N;showInfoModal=!1;currentTheme$;showTemporaryInfoModal(){this.showInfoModal=!0,setTimeout(()=>this.showInfoModal=!1,5e3)}handleEditToggle(){this.isEditing&&this.hasPendingChanges&&this.showTemporaryInfoModal(),this.onToggleEdit.emit()}getBackgroundClass(n){return n?n==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]":"bg-[var(--color-white)]"}static \u0275fac=function(e){return new(e||t)(b(j))};static \u0275cmp=M({type:t,selectors:[["app-info-sector"]],inputs:{badgeType:"badgeType",public:"public",editableUser:"editableUser",isEditing:"isEditing",hasPendingChanges:"hasPendingChanges"},outputs:{onToggleEdit:"onToggleEdit",fieldChange:"fieldChange"},decls:24,vars:21,consts:[["defaultIcon",""],["statusEdit",""],["fullNameDisplay",""],[1,"flex","flex-col","gap-[32px]","rounded-[24px]","border","p-[16px]","px-5","lg:gap-[48px]","lg:p-[24px]","lg:px-0","xxl:gap-[48px]",3,"ngClass"],[1,"lg:flex","lg:justify-between","lg:p-6"],[1,"flex","items-start","gap-[20px]","lg:flex-row"],[1,"relative","h-[58px]","w-[58px]","flex-shrink-0","lg:h-[120px]","lg:w-[120px]"],["class","absolute left-0 top-0 h-full w-full object-contain",3,"src","alt",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-3",3,"ngClass"],[1,"flex","gap-2","text-[20px]","lg:text-[40px]"],[1,"flex","w-full"],["class","body-font-1 rounded-[40px] border border-[var(--color-gray-20)] p-3",4,"ngIf","ngIfElse"],["class","hidden h-12 lg:flex",4,"ngIf"],["class","flex flex-col lg:px-6 gap-[20px] lg:flex-row",4,"ngIf"],["class","button-bg-transparent flex lg:hidden",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/50",4,"ngIf"],[1,"absolute","left-0","top-0","h-full","w-full","object-contain",3,"src","alt"],["alt","Profile",1,"absolute","left-1/2","top-1/2","rounded-full","object-cover",2,"transform","translate(-50%, -50%)",3,"src","ngClass"],[1,"absolute","left-1/2","top-1/2","flex","items-center","justify-center","rounded-full","bg-[var(--color-secondary)]",2,"transform","translate(-50%, -50%)",3,"ngClass"],[3,"icon","width","height"],[1,"body-font-1","rounded-[40px]","border","border-[var(--color-gray-20)]","p-3"],[1,"input-field","editable","h-[100px]","w-full","max-w-[600px]","resize-none",3,"ngModelChange","ngModel"],[1,"hidden","h-12","lg:flex"],[1,"menu-text-font","button-bg-transparent","px-6","py-3",3,"click"],[1,"flex","flex-col","lg:px-6","gap-[20px]","lg:flex-row"],[1,"flex","flex-1","gap-3","rounded-[40px]","border","p-2",3,"ngClass"],[1,"flex","h-[50px]","w-[50px]","items-center","justify-center","rounded-[25px]",3,"ngClass"],[1,"h-[26px]","w-[20px]",3,"icon"],[1,"flex","w-full","flex-col","gap-1"],[1,"body-font-1"],[3,"icon"],[1,"menu-text-font"],[1,"flex","flex-col","gap-1"],[1,"menu-text-font",3,"ngClass"],[1,"flex","gap-2"],["type","text",1,"input-field","editable",3,"ngModelChange","ngModel"],[1,"button-bg-transparent","flex","lg:hidden"],[1,"menu-text-font","flex","items-center","justify-center","px-6","py-3",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/50"],[1,"flex","w-full","max-w-[650px]","flex-col","items-center","justify-between","gap-[32px]","rounded-[40px]","bg-[var(--color-bg-2)]","p-[24px]","text-center","text-[var(--color-gray-100)]"],[1,"flex","flex-col","gap-[20px]"],[1,"body-font-1","text-[var(--color-gray-100)]"],[1,"button-font","button-bg-blue","h-[48px]","w-full","px-[32px]","py-[12px]",3,"click"]],template:function(e,r){if(e&1&&(a(0,"div",3),p(1,"async"),a(2,"div",4)(3,"div",5)(4,"div",6),f(5,Ve,2,4,"img",7)(6,Be,2,2,"ng-container",8)(7,Fe,2,4,"ng-template",null,0,S),o(),a(9,"div",9),p(10,"async"),a(11,"h3",10)(12,"span"),m(13),o(),a(14,"span"),m(15),o()(),a(16,"div",11),f(17,ke,2,1,"span",12)(18,Re,1,1,"ng-template",null,1,S),o()()(),f(20,Ne,5,5,"div",13),o(),f(21,Ae,39,45,"div",14)(22,je,5,5,"div",15)(23,De,12,9,"div",16),o()),e&2){let c=E(8),v=E(19);l("ngClass",P(17,Me,s(1,13,r.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)] bg-[var(--color-bg-card)]")),i(5),l("ngIf",r.badgeType),i(),l("ngIf",r.editableUser.photoUrl)("ngIfElse",c),i(3),l("ngClass",P(19,Ie,s(10,15,r.currentTheme$)==="dark")),i(4),u(r.editableUser.firstName),i(2),u(r.editableUser.lastName),i(2),l("ngIf",!r.isEditing)("ngIfElse",v),i(3),l("ngIf",!r.public),i(),l("ngIf",!r.public),i(),l("ngIf",!r.public),i(),l("ngIf",r.showInfoModal)}},dependencies:[F,U,B,A,xe,ve,ue,X,R,H,G,J,k],styles:[".input-field[_ngcontent-%COMP%]{border:none;border-bottom:1px solid transparent;background:transparent;outline:none;font-size:1rem;max-width:140px;transition:border-color .2s,background-color .2s;color:var(--color-gray-100);cursor:default}.input-field.city-input[_ngcontent-%COMP%]{max-width:150px}.input-field[readonly][_ngcontent-%COMP%]{color:var(--color-gray-70)}.input-field.editable[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary);background-color:var(--color-bg-1);cursor:text}.input-field.editable[_ngcontent-%COMP%]:focus{border-color:var(--color-secondary);background-color:var(--color-white)}"]})};var $e=(t,n)=>({"border-[var(--color-gray-20)] bg-[var(--color-white)]":t,"border-[var(--color-gray-75)] bg-[var(--color-bg-card)] text-[var(--color-white)]":n}),We=(t,n)=>({"border-[var(--color-gray-20)]":t,"border-[var(--color-gray-75)]":n}),Le=(t,n)=>({"bg-gray-300":t,"bg-[var(--color-gray-100)]":n}),Se=t=>({"text-[var(--color-gray-55)]":t}),ze=(t,n)=>({"bg-[var(--color-bg-2)]":t,"bg-[var(--color-gray-75)]":n});function Qe(t,n){t&1&&(a(0,"span"),m(1),p(2,"translate"),o()),t&2&&(i(),u(s(2,1,"achievements.subtitle")))}function He(t,n){if(t&1&&(w(0),g(1,"img",16),I()),t&2){let e=d().$implicit;i(),l("src",e.iconPath,T)("alt",e.alt)}}function Ke(t,n){if(t&1&&(g(0,"div",17),p(1,"async"),p(2,"async")),t&2){let e=d(3);l("ngClass",D(5,ze,s(1,1,e.currentTheme$)==="light",s(2,3,e.currentTheme$)==="dark"))}}function qe(t,n){if(t&1&&(a(0,"article",11)(1,"div",12),p(2,"async"),p(3,"async"),f(4,He,2,2,"ng-container",13)(5,Ke,3,8,"ng-template",null,0,S),o(),a(7,"div",2)(8,"h6",14),m(9),p(10,"translate"),o(),a(11,"p",15),m(12),p(13,"translate"),o()()()),t&2){let e=n.$implicit,r=E(6),c=d(2);V("aria-label",e.ariaLabel),i(),l("ngClass",D(16,Le,s(2,8,c.currentTheme$)==="light",s(3,10,c.currentTheme$)==="dark")),i(3),l("ngIf",c.unlockedTitles.has(e.key))("ngIfElse",r),i(4),l("ngClass",P(19,Se,!c.unlockedTitles.has(e.key))),i(),x(" ",s(10,12,"achievements.list."+e.key+".title")," "),i(2),l("ngClass",P(21,Se,!c.unlockedTitles.has(e.key))),i(),x(" ",s(13,14,"achievements.list."+e.key+".description")," ")}}function Xe(t,n){if(t&1&&(a(0,"section",6)(1,"div",7)(2,"h5"),m(3),p(4,"translate"),o(),g(5,"div",8),p(6,"async"),p(7,"async"),o(),a(8,"div",9),f(9,qe,14,23,"article",10),o()()),t&2){let e=n.$implicit,r=d();V("aria-labelledby",r.getIdFromTitle(e.sectionKey)),i(2),V("id",r.getIdFromTitle(e.sectionKey)),i(),x(" ",s(4,5,"achievements.sections."+e.sectionKey)," "),i(2),l("ngClass",D(11,We,s(6,7,r.currentTheme$)==="light",s(7,9,r.currentTheme$)==="dark")),i(4),l("ngForOf",e.achievements)}}var Te=class t{constructor(n){this.themeService=n;this.currentTheme$=this.themeService.theme$}achievements=[];unlockedTitles=new Set;public=!1;currentTheme$;getIdFromTitle(n){return n.toLowerCase().replace(/\s+/g,"-")}static \u0275fac=function(e){return new(e||t)(b(j))};static \u0275cmp=M({type:t,selectors:[["app-achievement-sector"]],inputs:{achievements:"achievements",unlockedTitles:"unlockedTitles",public:"public"},decls:10,vars:13,consts:[["locked",""],[1,"flex","min-w-[335px]","lg:px-0","flex-col","gap-6"],[1,"flex","flex-col","gap-2"],[4,"ngIf"],[1,"flex","flex-wrap","gap-x-[54px]","gap-y-[32px]","rounded-[40px]","border","p-6","lg:gap-y-[80px]",3,"ngClass"],["class","flex w-full flex-col gap-6 xxl:max-w-[600px]",4,"ngFor","ngForOf"],[1,"flex","w-full","flex-col","gap-6","xxl:max-w-[600px]"],[1,"flex","flex-col","gap-1","lg:gap-4"],[1,"w-full","border-b",3,"ngClass"],[1,"flex","justify-around","gap-3","lg:gap-[54px]"],["class","flex min-w-[83px] flex-col items-center gap-4 text-center lg:w-[167px] lg:justify-between","role","group",4,"ngFor","ngForOf"],["role","group",1,"flex","min-w-[83px]","flex-col","items-center","gap-4","text-center","lg:w-[167px]","lg:justify-between"],[1,"relative","flex","h-[60px]","w-[60px]","items-center","justify-center","rounded-full","lg:h-[100px]","lg:w-[100px]",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"lg:menu-text-font",3,"ngClass"],[1,"body-font-1","lg:text-[12px]",3,"ngClass"],["loading","eager",1,"lg:h-25","lg:w-25","h-[100px]","w-[100px]","object-contain",3,"src","alt"],[1,"h-[60px]","w-[60px]","lg:h-[100px]","lg:w-[100px]","rounded-full","border","border-[var(--color-gray-20)]",3,"ngClass"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"h4"),m(3),p(4,"translate"),o(),f(5,Qe,3,3,"span",3),o(),a(6,"div",4),p(7,"async"),p(8,"async"),f(9,Xe,10,14,"section",5),o()()),e&2&&(i(3),u(s(4,4,"achievements.title")),i(2),l("ngIf",!r.public),i(),l("ngClass",D(10,$e,s(7,6,r.currentTheme$)==="light",s(8,8,r.currentTheme$)==="dark")),i(3),l("ngForOf",r.achievements))},dependencies:[F,U,O,B,R,H,k],encapsulation:2})};var ne=t=>({count:t});function Ge(t,n){if(t&1&&(a(0,"div",9)(1,"h4",10),m(2),p(3,"translate"),o(),a(4,"span",11),m(5),p(6,"translate"),o()()),t&2){let e=d();i(2),x(" ",s(3,2,"favoritesVisited.favoriteCafes")," "),i(3),x(" ",z(6,4,"favoritesVisited.favoriteCafesDescription",P(7,ne,e.favoritePlaces.length))," ")}}function Je(t,n){if(t&1&&(a(0,"span",11),m(1),p(2,"translate"),o()),t&2){let e=d();i(),x(" ",z(2,1,"favoritesVisited.favoriteCafesDescription",P(4,ne,e.favoritePlaces.length))," ")}}function Ye(t,n){if(t&1&&(a(0,"div",9),g(1,"app-slider-places",12),p(2,"translate"),p(3,"translate"),o()),t&2){let e=d();i(),l("places",e.favoritePlaces)("cardType",e.PlaceCardType.Favourites)("title",s(2,4,"favoritesVisited.favoriteCafes"))("subtitle",e.isPublic?null:z(3,6,"favoritesVisited.favoriteCafesDescription",P(9,ne,e.favoritePlaces.length)))}}function Ze(t,n){if(t&1){let e=C();a(0,"app-place-card",15),y("favoriteToggled",function(c){_(e);let v=d(2);return h(v.onFavoriteToggled(c))}),o()}if(t&2){let e=n.$implicit,r=d(2);l("place",e)("cardType",r.PlaceCardType.Favourites)}}function et(t,n){if(t&1&&(a(0,"div",13),f(1,Ze,1,2,"app-place-card",14),o()),t&2){let e=d();i(),l("ngForOf",e.favoritePlaces)}}function tt(t,n){t&1&&(a(0,"div",9)(1,"h4",10),m(2),p(3,"translate"),o(),a(4,"span",11),m(5),p(6,"translate"),o()()),t&2&&(i(2),x(" ",s(3,2,"favoritesVisited.alreadyVisited")," "),i(3),x(" ",s(6,4,"favoritesVisited.alreadyVisitedDescription")," "))}function it(t,n){t&1&&(a(0,"span",11),m(1),p(2,"translate"),o()),t&2&&(i(),x(" ",s(2,1,"favoritesVisited.alreadyVisitedDescription")," "))}function nt(t,n){if(t&1&&(a(0,"div",9),g(1,"app-slider-places",12),p(2,"translate"),p(3,"translate"),o()),t&2){let e=d();i(),l("places",e.visitedPlaces)("cardType",e.PlaceCardType.Favourites)("title",s(2,4,"favoritesVisited.alreadyVisited"))("subtitle",e.isPublic?null:s(3,6,"favoritesVisited.alreadyVisitedDescription"))}}function rt(t,n){if(t&1){let e=C();a(0,"app-place-card",15),y("favoriteToggled",function(c){_(e);let v=d(2);return h(v.onFavoriteToggledVisited(c))}),o()}if(t&2){let e=n.$implicit,r=d(2);l("place",e)("cardType",r.PlaceCardType.Favourites)}}function ot(t,n){if(t&1&&(w(0),a(1,"div",13),f(2,rt,1,2,"app-place-card",14),o(),I()),t&2){let e=d();i(2),l("ngForOf",e.visitedPlaces)}}function at(t,n){t&1&&(a(0,"div",16),m(1),p(2,"translate"),o()),t&2&&(i(),x(" ",s(2,1,"favoritesVisited.noVisitedPlaces")," "))}var Ee=class t{constructor(n){this.cdr=n}favoritePlaces=[];isPublic;favoritePlacesChanged=new N;visitedPlaces=[];visitedPlacesChanged=new N;PlaceCardType=he;ngOnInit(){this.cdr.detectChanges()}onFavoriteToggled(n){if(n.isFavorite){if(!this.favoritePlaces.some(e=>e.id===n.placeId)){let e=this.favoritePlaces.find(r=>r.id===n.placeId);e&&(this.favoritePlaces=[...this.favoritePlaces,e],this.favoritePlacesChanged.emit(this.favoritePlaces))}}else this.favoritePlaces=this.favoritePlaces.filter(e=>e.id!==n.placeId),this.favoritePlacesChanged.emit(this.favoritePlaces)}onFavoriteToggledVisited(n){n.isFavorite||(this.favoritePlaces=this.favoritePlaces.filter(e=>e.id!==n.placeId),this.favoritePlacesChanged.emit(this.favoritePlaces),this.cdr.detectChanges())}static \u0275fac=function(e){return new(e||t)(b(Q))};static \u0275cmp=M({type:t,selectors:[["app-favorites-visited-sector"]],inputs:{favoritePlaces:"favoritePlaces",isPublic:"isPublic",visitedPlaces:"visitedPlaces"},outputs:{favoritePlacesChanged:"favoritePlacesChanged",visitedPlacesChanged:"visitedPlacesChanged"},decls:21,vars:15,consts:[["noVisitedPlacesTemplate",""],[1,"flex","flex-col","gap-12","px-5","lg:px-10","xxl:px-0"],[1,"flex","flex-col"],["class","block lg:hidden",4,"ngIf"],[1,"hidden","lg:block"],[1,"mb-2","text-[32px]","xxl:text-[40px]"],["class","body-font-1 mb-4 block",4,"ngIf"],["class","hidden w-full gap-x-[20px] gap-y-[12px] lg:grid lg:grid-cols-6 xxl:grid-cols-8",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"block","lg:hidden"],[1,"mb-2","text-[20px]","sm:text-[24px]"],[1,"body-font-1","mb-4","block"],[3,"places","cardType","title","subtitle"],[1,"hidden","w-full","gap-x-[20px]","gap-y-[12px]","lg:grid","lg:grid-cols-6","xxl:grid-cols-8"],["class","col-span-2",3,"place","cardType","favoriteToggled",4,"ngFor","ngForOf"],[1,"col-span-2",3,"favoriteToggled","place","cardType"],[1,"mt-4","text-gray-500","lg:block"]],template:function(e,r){if(e&1&&(a(0,"div",1)(1,"section",2),f(2,Ge,7,9,"div",3),a(3,"div",4)(4,"h4",5),m(5),p(6,"translate"),o(),f(7,Je,3,6,"span",6),o(),f(8,Ye,4,11,"div",3)(9,et,2,1,"div",7),o(),a(10,"section",2),f(11,tt,7,6,"div",3),a(12,"div",4)(13,"h4",5),m(14),p(15,"translate"),o(),f(16,it,3,3,"span",6),o(),f(17,nt,4,8,"div",3)(18,ot,3,1,"ng-container",8)(19,at,3,3,"ng-template",null,0,S),o()()),e&2){let c=E(20);i(2),l("ngIf",r.favoritePlaces.length===0),i(3),x(" ",s(6,11,"favoritesVisited.favoriteCafes")," "),i(2),l("ngIf",!r.isPublic),i(),l("ngIf",r.favoritePlaces.length>0),i(),l("ngIf",r.favoritePlaces.length>0),i(2),l("ngIf",r.visitedPlaces.length===0),i(3),x(" ",s(15,13,"favoritesVisited.alreadyVisited")," "),i(2),l("ngIf",!r.isPublic),i(),l("ngIf",r.visitedPlaces.length>0),i(),l("ngIf",r.visitedPlaces.length>0)("ngIfElse",c)}},dependencies:[F,O,B,A,Ce,ye,R,k],encapsulation:2})};var lt=["slideRef"];function pt(t,n){if(t&1&&g(0,"img",23),t&2){let e=n.ngIf;l("src",e,T)}}function st(t,n){if(t&1&&g(0,"img",24),t&2){let e=d(4);l("src",e.userPhotoUrl,T)("alt",e.fullName)}}function ct(t,n){if(t&1&&(w(0),g(1,"app-icon",25),I()),t&2){let e=d(4);i(),l("icon",e.ICONS.Star)}}function dt(t,n){if(t&1&&(a(0,"div",12)(1,"div",13),f(2,pt,1,1,"img",14),p(3,"badgeImage"),f(4,st,1,2,"img",15),o(),a(5,"div",16)(6,"div",17)(7,"span",18),m(8),o(),a(9,"span",5),m(10),o(),a(11,"div",19),f(12,ct,2,1,"ng-container",20),o()(),a(13,"div",21)(14,"span",22),m(15),o()()()()),t&2){let e=n.$implicit,r=d(3);i(2),l("ngIf",s(3,6,r.badgeType)),i(2),l("ngIf",r.userPhotoUrl),i(4),u(r.fullName),i(2),u(e.text),i(2),l("ngForOf",r.getStarsArray(e.rating)),i(3),u(r.formatDate(e.createdAt))}}function mt(t,n){if(t&1){let e=C();a(0,"button",26),y("click",function(){_(e);let c=d(3);return h(c.showMore())}),m(1),p(2,"translate"),o()}t&2&&(i(),x(" ",s(2,1,"reviews.showMore")," "))}function ft(t,n){if(t&1&&(w(0),a(1,"div",8),f(2,dt,16,8,"div",10),o(),f(3,mt,3,3,"button",11),I()),t&2){let e=d(2);i(2),l("ngForOf",e.reviews.slice(0,e.visibleCount)),i(),l("ngIf",e.reviews.length>e.visibleCount)}}function gt(t,n){t&1&&(a(0,"div",27),m(1),p(2,"translate"),o()),t&2&&(i(),u(s(2,1,"myReviews.noReviews")))}function xt(t,n){if(t&1&&(a(0,"section",8),f(1,ft,4,2,"ng-container",9)(2,gt,3,3,"ng-template",null,0,S),o()),t&2){let e=E(3),r=d();i(),l("ngIf",r.reviews.length>0)("ngIfElse",e)}}function vt(t,n){if(t&1&&(g(0,"img",44),p(1,"badgeImage")),t&2){let e=d(3);l("alt",me("",e.badgeType," badge"))("src",s(1,3,e.badgeType),T)}}function ut(t,n){if(t&1&&(w(0),g(1,"app-icon",25),I()),t&2){let e=d(3);i(),l("icon",e.ICONS.Star)}}function _t(t,n){if(t&1&&(a(0,"div",45),m(1),o()),t&2){let e=d().$implicit;i(),x(" ",e.text," ")}}function ht(t,n){if(t&1){let e=C();w(0),a(1,"div",46)(2,"div",37),g(3,"img",47),a(4,"div",48)(5,"div",18),m(6),o(),a(7,"div",49),g(8,"app-icon",25),a(9,"span",50),m(10),o()()()(),a(11,"button",51),y("click",function(){let c=_(e).ngIf,v=d(3);return h(v.goToCafe(c.id))}),m(12),p(13,"translate"),g(14,"app-icon",25),o()(),I()}if(t&2){let e=n.ngIf,r=d(3);i(3),l("alt",de(e.name))("src",e.photoUrls[0],T),i(3),u(e.name),i(2),l("icon",r.ICONS.Location),i(2),u(e.address),i(2),x(" ",s(13,8,"myReviews.goToCafe")," "),i(2),l("icon",r.ICONS.ArrowDownRightPrimary)}}function yt(t,n){t&1&&(a(0,"div",52)(1,"em",53),m(2),p(3,"translate"),o()()),t&2&&(i(2),u(s(3,1,"myReviews.noReviewText")))}function Ct(t,n){if(t&1&&(a(0,"div",35,1)(2,"div",36)(3,"div",37)(4,"div",38),f(5,vt,2,5,"img",39),g(6,"img",40),o(),a(7,"div",4)(8,"span"),m(9),o(),a(10,"div",41),p(11,"translate"),f(12,ut,2,1,"ng-container",20),o()()(),f(13,_t,2,1,"div",42)(14,ht,15,10,"ng-container",43)(15,yt,4,3,"ng-template",null,2,S),o()()),t&2){let e=n.$implicit,r=E(16),c=d(2);Y("width",c.slideWidthPx-20,"px"),i(5),l("ngIf",c.badgeType),i(),l("src",c.userPhotoUrl,T),i(3),u(c.fullName),i(),V("aria-label",s(11,10,"myReviews.ratingStars")),i(2),l("ngForOf",c.getStarsArray(e.rating)),i(),l("ngIf",e.text)("ngIfElse",r),i(),l("ngIf",c.getPlaceById(e.cafeId))}}function bt(t,n){if(t&1){let e=C();a(0,"section",28)(1,"div",29)(2,"button",30),p(3,"translate"),y("click",function(){_(e);let c=d();return h(c.prevSlide())}),g(4,"app-icon",31),p(5,"themedIcon"),o(),a(6,"div",32)(7,"div",33),f(8,Ct,17,12,"div",34),o()(),a(9,"button",30),p(10,"translate"),y("click",function(){_(e);let c=d();return h(c.nextSlide())}),g(11,"app-icon",31),p(12,"themedIcon"),o()()()}if(t&2){let e=d();i(2),l("ngClass",e.themeButtonClass),V("aria-label",s(3,15,"myReviews.ariaPrev")),i(2),l("icon",s(5,17,"ArrowLeft"))("width",32)("height",32),i(3),Y("transform",e.transformStyle)("width",e.slidesContainerWidthPx,"px"),i(),l("ngForOf",e.reviews),i(),l("ngClass",e.themeButtonClass),V("aria-label",s(10,19,"myReviews.ariaNext")),i(2),l("icon",s(12,21,"ArrowRight"))("width",32)("height",32)}}function wt(t,n){t&1&&(a(0,"div",54),m(1),p(2,"translate"),o()),t&2&&(i(),u(s(2,1,"myReviews.noReviews")))}var Pe=class t{constructor(n,e,r,c,v){this.authApiService=n;this.cdr=e;this.router=r;this.datePipe=c;this.themeService=v;this.currentTheme$=this.themeService.theme$}userId;userPhotoUrl=null;places=[];badgeType=null;reviews=[];userFirstName=null;userLastName=null;ICONS=q;isMobile=!1;visibleCount=2;currentSlide=0;slidesToShow=2;slideRefs;slideWidthPx=0;slidesContainerWidthPx=0;currentTheme$;ngOnInit(){if(this.updateViewport(),!this.userId)return console.error("userId is not provided");this.authApiService.getPublicUserProfile(this.userId).subscribe({next:n=>{this.userFirstName=n.firstName,this.userLastName=n.lastName,this.reviews=(n.reviews||[]).map(e=>oe(re({},e),{userId:this.userId,userName:this.userFirstName??"",userSurname:this.userLastName??"",userPhotoUrl:this.userPhotoUrl??""})),this.cdr.detectChanges(),this.calculateSlideWidth()},error:n=>console.error("Failed to load user profile reviews:",n)})}ngAfterViewInit(){this.calculateSlideWidth(),window.addEventListener("resize",()=>this.calculateSlideWidth())}get fullName(){return`${this.userFirstName??""} ${this.userLastName??""}`.trim()}get transformStyle(){return`translateX(-${this.currentSlide*this.slideWidthPx}px)`}get themeButtonClass(){return this.themeService.currentTheme==="dark"?"bg-[var(--color-gray-100)]":"bg-[var(--color-white)]"}updateViewport(){let n=this.isMobile;this.isMobile=window.innerWidth<1440,n!==this.isMobile&&this.cdr.detectChanges()}showMore(){this.visibleCount<this.reviews.length&&(this.visibleCount+=2)}getStarsArray(n){return Array.from({length:n})}formatDate(n){return this.datePipe.transform(n,"MMM dd, yyyy")}getPlaceById(n){return this.places.find(e=>e.id===n)}goToCafe(n){this.router.navigate(["/catalog",n])}calculateSlideWidth(){let n=Math.min(window.innerWidth,1320),e=Math.min(n/this.slidesToShow-20,578);this.slideWidthPx=e+20,this.slidesContainerWidthPx=(e+20)*this.reviews.length,this.cdr.detectChanges()}prevSlide(){this.currentSlide=this.currentSlide===0?Math.max(this.reviews.length-this.slidesToShow,0):this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide>=this.reviews.length-this.slidesToShow?0:this.currentSlide+1}static \u0275fac=function(e){return new(e||t)(b(_e),b(Q),b(ge),b(K),b(j))};static \u0275cmp=M({type:t,selectors:[["app-my-reviews"]],viewQuery:function(e,r){if(e&1&&le(lt,5),e&2){let c;pe(c=se())&&(r.slideRefs=c)}},hostBindings:function(e,r){e&1&&y("resize",function(){return r.updateViewport()},ae)},inputs:{userId:"userId",userPhotoUrl:"userPhotoUrl",places:"places",badgeType:"badgeType"},features:[fe([K])],decls:12,vars:8,consts:[["noReviews",""],["slideRef",""],["noText",""],[1,"mx-auto","flex","w-full","max-w-[1320px]","flex-col","gap-6","px-5","lg:px-10","xxl:px-0"],[1,"flex","flex-col","gap-2"],[1,"body-font-1"],["class","flex flex-col gap-4",4,"ngIf"],["class","flex flex-col items-center",4,"ngIf"],[1,"flex","flex-col","gap-4"],[4,"ngIf","ngIfElse"],["class","flex gap-4 px-[18px] py-[15px]",4,"ngFor","ngForOf"],["class","underline","style","text-decoration-style: dotted; text-underline-offset: 4px;",3,"click",4,"ngIf"],[1,"flex","gap-4","px-[18px]","py-[15px]"],[1,"relative","inline-block","h-[50px]","w-[50px]","flex-shrink-0"],["alt","badge","class","absolute left-0 top-0 h-full w-full rounded-full object-cover pointer-events-none",3,"src",4,"ngIf"],["class","absolute left-1/2 top-1/2 h-[44px] w-[44px] rounded-full object-cover","style","transform: translate(-50%, -50%)",3,"src","alt",4,"ngIf"],[1,"flex","flex-1","flex-col","gap-2","lg:flex-row","lg:gap-0"],[1,"flex","flex-1","flex-col","gap-2"],[1,"menu-text-font"],[1,"flex","gap-[2px]"],[4,"ngFor","ngForOf"],[1,"w-22","relative","flex","flex-shrink-0","items-end","justify-between","lg:h-[113px]","lg:flex-col","lg:items-center"],[1,"body-font-2"],["alt","badge",1,"absolute","left-0","top-0","h-full","w-full","rounded-full","object-cover","pointer-events-none",3,"src"],[1,"absolute","left-1/2","top-1/2","h-[44px]","w-[44px]","rounded-full","object-cover",2,"transform","translate(-50%, -50%)",3,"src","alt"],[3,"icon"],[1,"underline",2,"text-decoration-style","dotted","text-underline-offset","4px",3,"click"],[1,"mt-4","text-gray-500"],[1,"flex","flex-col","items-center"],[1,"flex","w-full","max-w-[1320px]","items-center","gap-5"],[1,"flex","h-[52px]","w-[52px]","items-center","justify-center","rounded-full","p-2","text-2xl","transition",3,"click","ngClass"],[3,"icon","width","height"],[1,"flex","w-full","overflow-hidden"],[1,"flex","gap-[20px]","transition-transform","duration-300","ease-in-out","will-change-transform"],["class","box-border flex-shrink-0 px-2","style","max-width: 578px;",3,"width",4,"ngFor","ngForOf"],[1,"box-border","flex-shrink-0","px-2",2,"max-width","578px"],[1,"flex","h-full","flex-col","justify-between","gap-4","rounded-2xl","border","border-gray-300","p-4"],[1,"flex","items-center","gap-3"],[1,"relative","mr-2","h-[50px]","w-[50px]"],["class","absolute left-0 top-0 h-[50px] w-[50px] object-contain",3,"src","alt",4,"ngIf"],["alt","User photo",1,"absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2","h-[44px]","w-[44px]","rounded-full","object-cover",3,"src"],[1,"flex","gap-0.5"],["class","body-font-1 overflow-hidden text-ellipsis","style","display: -webkit-box; -webkit-line-clamp: 6; -webkit-box-orient: vertical; word-break: break-word; height: 144px;",4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"absolute","left-0","top-0","h-[50px]","w-[50px]","object-contain",3,"src","alt"],[1,"body-font-1","overflow-hidden","text-ellipsis",2,"display","-webkit-box","-webkit-line-clamp","6","-webkit-box-orient","vertical","word-break","break-word","height","144px"],[1,"flex","flex-wrap","items-center","justify-between","gap-4"],[1,"h-12","w-12","rounded-full","object-cover",3,"src","alt"],[1,"flex","flex-col","gap-1"],[1,"flex","items-center","gap-2"],[1,"body-font-1","underline"],[1,"button-bg-transparent","flex","w-full","items-center","gap-2","whitespace-nowrap","px-4","py-2","lg:w-auto",3,"click"],[1,"flex","flex-1","items-center","justify-center","text-center"],[1,"text-gray-400"],[1,"mt-4","w-full","text-gray-500"]],template:function(e,r){e&1&&(a(0,"div",3)(1,"header",4)(2,"h5"),m(3),p(4,"translate"),o(),a(5,"span",5),m(6),p(7,"translate"),o()(),f(8,xt,4,2,"section",6)(9,bt,13,23,"section",7)(10,wt,3,3,"ng-template",null,0,S),o()),e&2&&(i(3),u(s(4,4,"myReviews.title")),i(3),u(s(7,6,"myReviews.description")),i(2),l("ngIf",r.isMobile),i(),l("ngIf",!r.isMobile&&r.reviews.length>0))},dependencies:[F,U,O,B,A,X,R,J,k,G],encapsulation:2})};export{be as a,Te as b,Ee as c,Pe as d};
