import{a as Y}from"./chunk-R7A6PUGH.js";import{a as Ce}from"./chunk-OEEKGOY4.js";import{a as he,e as ye}from"./chunk-7C5YTNTV.js";import{b as xe,c as ve,f as ue,j as D}from"./chunk-OVFD7ZCN.js";import{$ as l,$a as k,A as u,Aa as de,Ab as J,B as _,Ba as me,Bb as _e,Ca as fe,Ea as P,Fa as V,J as T,Ja as p,K as le,Ka as c,La as H,M as i,Ma as I,P as S,Pa as K,R as M,Sa as O,Ta as A,Ua as F,W as f,X as U,Ya as j,_ as B,_a as q,a as oe,aa as o,b as ae,ba as r,ca as x,ga as C,ha as b,ia as w,ja as y,ka as d,na as pe,nb as ge,oa as se,pa as ce,qa as E,ra as Z,rb as $,ta as m,ua as h,ub as R,va as g,vb as N,wa as W,wb as X,xa as L,xb as G,ya as z,za as Q}from"./chunk-2Z55U5GN.js";var Be=t=>[t],Se=t=>({"text-[var(--color-white)]":t});function Ve(t,n){if(t&1&&(x(0,"img",17),p(1,"badgeImage")),t&2){let e=d();l("src",c(1,2,e.badgeType),T)("alt",e.badgeType+" badge")}}function Fe(t,n){if(t&1&&(C(0),x(1,"img",18),b()),t&2){let e=d();i(),l("src",e.editableUser.photoUrl,T)("ngClass","translate-middle h-[50px] w-[50px] lg:h-[100px] lg:w-[100px]")}}function ke(t,n){if(t&1&&(o(0,"div",19),x(1,"app-icon",20),r()),t&2){let e=d();l("ngClass","translate-middle h-[50px] w-[50px] lg:h-[80px] lg:w-[80px]"),i(),l("icon",e.ICONS.UserProfile)("width",64)("height",64)}}function Re(t,n){if(t&1){let e=w();o(0,"div",21)(1,"button",22),y("click",function(){u(e);let s=d();return _(s.handleEditToggle())}),m(2),p(3,"translate"),p(4,"translate"),r()()}if(t&2){let e=d();i(2),g(" ",e.isEditing?c(3,1,"infoSector.save"):c(4,3,"infoSector.editProfile")," ")}}function Ne(t,n){if(t&1){let e=w();C(0),o(1,"div",32)(2,"input",33),Q("ngModelChange",function(s){u(e);let v=d(2);return z(v.editableUser.firstName,s)||(v.editableUser.firstName=s),_(s)}),y("ngModelChange",function(s){u(e);let v=d(2);return _(v.fieldChange.emit({field:"firstName",value:s}))}),r(),o(3,"input",33),Q("ngModelChange",function(s){u(e);let v=d(2);return z(v.editableUser.lastName,s)||(v.editableUser.lastName=s),_(s)}),y("ngModelChange",function(s){u(e);let v=d(2);return _(v.fieldChange.emit({field:"lastName",value:s}))}),r()(),b()}if(t&2){let e=d(2);i(2),L("ngModel",e.editableUser.firstName),i(),L("ngModel",e.editableUser.lastName)}}function Ue(t,n){if(t&1&&(o(0,"p",34),m(1),r()),t&2){let e=d(2);i(),W(" ",e.editableUser.firstName," ",e.editableUser.lastName," ")}}function Oe(t,n){if(t&1){let e=w();C(0),o(1,"input",35),Q("ngModelChange",function(s){u(e);let v=d(2);return z(v.editableUser.defaultCity,s)||(v.editableUser.defaultCity=s),_(s)}),y("ngModelChange",function(s){u(e);let v=d(2);return _(v.fieldChange.emit({field:"defaultCity",value:s}))}),r(),b()}if(t&2){let e=d(2);i(),L("ngModel",e.editableUser.defaultCity)}}function Ae(t,n){if(t&1&&(o(0,"p",34),m(1),r()),t&2){let e=d(2);i(),g(" ",e.editableUser.defaultCity,", Ukraine ")}}function je(t,n){if(t&1&&(o(0,"div",23)(1,"div",24),p(2,"async"),o(3,"div",25),p(4,"async"),x(5,"app-icon",26),p(6,"themedIcon"),r(),o(7,"div",27)(8,"p",28),m(9),p(10,"translate"),r(),f(11,Ne,4,2,"ng-container",8)(12,Ue,2,2,"ng-template",null,1,I),r()(),o(14,"div",24),p(15,"async"),o(16,"div",25),p(17,"async"),x(18,"app-icon",29),p(19,"themedIcon"),r(),o(20,"div",27)(21,"p",28),m(22),p(23,"translate"),r(),f(24,Oe,2,1,"ng-container",8)(25,Ae,2,1,"ng-template",null,2,I),r()(),o(27,"div",24),p(28,"async"),o(29,"div",25),p(30,"async"),x(31,"app-icon",29),p(32,"themedIcon"),r(),o(33,"div",30)(34,"p",28),m(35),p(36,"translate"),r(),o(37,"p",31),p(38,"async"),m(39),r()()()()),t&2){let e=E(13),a=E(26),s=d();i(),l("ngClass",c(2,18,s.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",c(4,20,s.currentTheme$)==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]"),i(2),l("icon",c(6,22,"IdPass")),i(4),h(c(10,24,"infoSector.fullName")),i(2),l("ngIf",s.isEditing)("ngIfElse",e),i(3),l("ngClass",c(15,26,s.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",c(17,28,s.currentTheme$)==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]"),i(2),l("icon",c(19,30,"Location")),i(4),h(c(23,32,"infoSector.location")),i(2),l("ngIf",s.isEditing)("ngIfElse",a),i(3),l("ngClass",c(28,34,s.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",s.getBackgroundClass(c(30,36,s.currentTheme$))),i(2),l("icon",c(32,38,"Letter")),i(4),h(c(36,40,"infoSector.email")),i(2),l("ngClass",P(44,Se,c(38,42,s.currentTheme$)==="dark")),i(2),g(" ",s.editableUser.email," ")}}function De(t,n){if(t&1){let e=w();o(0,"div",36)(1,"button",37),y("click",function(){u(e);let s=d();return _(s.handleEditToggle())}),m(2),p(3,"translate"),p(4,"translate"),r()()}if(t&2){let e=d();i(2),g(" ",e.isEditing?c(3,1,"infoSector.save"):c(4,3,"infoSector.editProfile")," ")}}function $e(t,n){if(t&1){let e=w();o(0,"div",38)(1,"div",39)(2,"div",40)(3,"h4"),m(4),p(5,"translate"),r(),o(6,"p",41),m(7),p(8,"translate"),r()(),o(9,"button",42),y("click",function(){u(e);let s=d();return _(s.showInfoModal=!1)}),m(10),p(11,"translate"),r()()()}t&2&&(i(4),h(c(5,3,"infoSector.unsavedChanges")),i(3),g(" ",c(8,5,"infoSector.unsavedChangesMessage")," "),i(3),g(" ",c(11,7,"infoSector.gotIt")," "))}var be=class t{constructor(n){this.themeService=n;this.currentTheme$=this.themeService.theme$}ICONS=X;badgeType=null;public=!1;editableUser;isEditing=!1;hasPendingChanges=!1;onToggleEdit=new U;fieldChange=new U;showInfoModal=!1;currentTheme$;showTemporaryInfoModal(){this.showInfoModal=!0,setTimeout(()=>this.showInfoModal=!1,5e3)}handleEditToggle(){this.isEditing&&this.hasPendingChanges&&this.showTemporaryInfoModal(),this.onToggleEdit.emit()}getBackgroundClass(n){return n?n==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]":"bg-[var(--color-white)]"}static \u0275fac=function(e){return new(e||t)(S($))};static \u0275cmp=M({type:t,selectors:[["app-info-sector"]],inputs:{badgeType:"badgeType",public:"public",editableUser:"editableUser",isEditing:"isEditing",hasPendingChanges:"hasPendingChanges"},outputs:{onToggleEdit:"onToggleEdit",fieldChange:"fieldChange"},decls:23,vars:20,consts:[["defaultIcon",""],["fullNameDisplay",""],["cityDisplay",""],[1,"px-5","lg:px-0","flex","flex-col","gap-[32px]","rounded-[24px]","border","p-[16px]","lg:gap-[48px]","lg:p-[24px]","xxl:gap-[48px]",3,"ngClass"],[1,"lg:flex","lg:justify-between","lg:p-6"],[1,"flex","items-start","gap-[20px]","lg:flex-row"],[1,"relative","h-[58px]","w-[58px]","flex-shrink-0","lg:h-[120px]","lg:w-[120px]"],["class","absolute left-0 top-0 h-full w-full object-contain",3,"src","alt",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-3",3,"ngClass"],[1,"flex","gap-2","text-[20px]","lg:text-[40px]"],[1,"flex"],[1,"body-font-1","rounded-[40px]","border","border-[var(--color-gray-20)]","p-3"],["class","hidden h-12 lg:flex",4,"ngIf"],["class","flex flex-col gap-[20px] lg:flex-row",4,"ngIf"],["class","button-bg-transparent flex lg:hidden",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/50",4,"ngIf"],[1,"absolute","left-0","top-0","h-full","w-full","object-contain",3,"src","alt"],["alt","Profile",1,"absolute","left-1/2","top-1/2","rounded-full","object-cover",2,"transform","translate(-50%, -50%)",3,"src","ngClass"],[1,"absolute","left-1/2","top-1/2","flex","items-center","justify-center","rounded-full","bg-[var(--color-secondary)]",2,"transform","translate(-50%, -50%)",3,"ngClass"],[3,"icon","width","height"],[1,"hidden","h-12","lg:flex"],[1,"menu-text-font","button-bg-transparent","px-6","py-3",3,"click"],[1,"flex","flex-col","gap-[20px]","lg:flex-row"],[1,"flex","flex-1","gap-3","rounded-[40px]","border","p-2",3,"ngClass"],[1,"flex","h-[50px]","w-[50px]","items-center","justify-center","rounded-[25px]",3,"ngClass"],[1,"h-[26px]","w-[20px]",3,"icon"],[1,"flex","w-full","flex-col","gap-1"],[1,"body-font-1"],[3,"icon"],[1,"flex","flex-col","gap-1"],[1,"menu-text-font",3,"ngClass"],[1,"flex","gap-2"],["type","text",1,"input-field","editable",3,"ngModelChange","ngModel"],[1,"menu-text-font"],["type","text",1,"input-field","editable","city-input",3,"ngModelChange","ngModel"],[1,"button-bg-transparent","flex","lg:hidden"],[1,"menu-text-font","flex","items-center","justify-center","px-6","py-3",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/50"],[1,"flex","w-full","max-w-[650px]","flex-col","items-center","justify-between","gap-[32px]","rounded-[40px]","bg-[var(--color-bg-2)]","p-[24px]","text-center","text-[var(--color-gray-100)]"],[1,"flex","flex-col","gap-[20px]"],[1,"body-font-1","text-[var(--color-gray-100)]"],[1,"button-font","button-bg-blue","h-[48px]","w-full","px-[32px]","py-[12px]",3,"click"]],template:function(e,a){if(e&1&&(o(0,"div",3),p(1,"async"),o(2,"div",4)(3,"div",5)(4,"div",6),f(5,Ve,2,4,"img",7)(6,Fe,2,2,"ng-container",8)(7,ke,2,4,"ng-template",null,0,I),r(),o(9,"div",9),p(10,"async"),o(11,"h3",10)(12,"span"),m(13),r(),o(14,"span"),m(15),r()(),o(16,"div",11)(17,"span",12),m(18),r()()()(),f(19,Re,5,5,"div",13),r(),f(20,je,40,46,"div",14)(21,De,5,5,"div",15)(22,$e,12,9,"div",16),r()),e&2){let s=E(8);l("ngClass",P(16,Be,c(1,12,a.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)] bg-[var(--color-bg-card)]")),i(5),l("ngIf",a.badgeType),i(),l("ngIf",a.editableUser.photoUrl)("ngIfElse",s),i(3),l("ngClass",P(18,Se,c(10,14,a.currentTheme$)==="dark")),i(4),h(a.editableUser.firstName),i(2),h(a.editableUser.lastName),i(3),g(" ",a.editableUser.status," "),i(),l("ngIf",!a.public),i(),l("ngIf",!a.public),i(),l("ngIf",!a.public),i(),l("ngIf",a.showInfoModal)}},dependencies:[k,O,F,D,xe,ve,ue,G,N,j,J,Y,R],styles:[".input-field[_ngcontent-%COMP%]{border:none;border-bottom:1px solid transparent;background:transparent;outline:none;font-size:1rem;max-width:140px;transition:border-color .2s,background-color .2s;color:var(--color-gray-100);cursor:default}.input-field.city-input[_ngcontent-%COMP%]{max-width:150px}.input-field[readonly][_ngcontent-%COMP%]{color:var(--color-gray-70)}.input-field.editable[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary);background-color:var(--color-bg-1);cursor:text}.input-field.editable[_ngcontent-%COMP%]:focus{border-color:var(--color-secondary);background-color:var(--color-white)}"]})};var We=(t,n)=>({"border-[var(--color-gray-20)] bg-[var(--color-white)]":t,"border-[var(--color-gray-75)] bg-[var(--color-bg-card)] text-[var(--color-white)]":n}),Le=(t,n)=>({"border-[var(--color-gray-20)]":t,"border-[var(--color-gray-75)]":n}),ze=(t,n)=>({"bg-gray-300":t,"bg-[var(--color-gray-100)]":n}),Ie=t=>({"text-[var(--color-gray-55)]":t}),Qe=(t,n)=>({"bg-[var(--color-bg-2)]":t,"bg-[var(--color-gray-75)]":n});function He(t,n){t&1&&(o(0,"span"),m(1),p(2,"translate"),r()),t&2&&(i(),h(c(2,1,"achievements.subtitle")))}function Ke(t,n){if(t&1&&(C(0),x(1,"img",16),b()),t&2){let e=d().$implicit;i(),l("src",e.iconPath,T)("alt",e.alt)}}function qe(t,n){if(t&1&&(x(0,"div",17),p(1,"async"),p(2,"async")),t&2){let e=d(3);l("ngClass",V(5,Qe,c(1,1,e.currentTheme$)==="light",c(2,3,e.currentTheme$)==="dark"))}}function Xe(t,n){if(t&1&&(o(0,"article",11)(1,"div",12),p(2,"async"),p(3,"async"),f(4,Ke,2,2,"ng-container",13)(5,qe,3,8,"ng-template",null,0,I),r(),o(7,"div",2)(8,"h6",14),m(9),p(10,"translate"),r(),o(11,"p",15),m(12),p(13,"translate"),r()()()),t&2){let e=n.$implicit,a=E(6),s=d(2);B("aria-label",e.ariaLabel),i(),l("ngClass",V(16,ze,c(2,8,s.currentTheme$)==="light",c(3,10,s.currentTheme$)==="dark")),i(3),l("ngIf",s.unlockedTitles.has(e.key))("ngIfElse",a),i(4),l("ngClass",P(19,Ie,!s.unlockedTitles.has(e.key))),i(),g(" ",c(10,12,"achievements.list."+e.key+".title")," "),i(2),l("ngClass",P(21,Ie,!s.unlockedTitles.has(e.key))),i(),g(" ",c(13,14,"achievements.list."+e.key+".description")," ")}}function Ge(t,n){if(t&1&&(o(0,"section",6)(1,"div",7)(2,"h5"),m(3),p(4,"translate"),r(),x(5,"div",8),p(6,"async"),p(7,"async"),r(),o(8,"div",9),f(9,Xe,14,23,"article",10),r()()),t&2){let e=n.$implicit,a=d();B("aria-labelledby",a.getIdFromTitle(e.sectionKey)),i(2),B("id",a.getIdFromTitle(e.sectionKey)),i(),g(" ",c(4,5,"achievements.sections."+e.sectionKey)," "),i(2),l("ngClass",V(11,Le,c(6,7,a.currentTheme$)==="light",c(7,9,a.currentTheme$)==="dark")),i(4),l("ngForOf",e.achievements)}}var Te=class t{constructor(n){this.themeService=n;this.currentTheme$=this.themeService.theme$}achievements=[];unlockedTitles=new Set;public=!1;currentTheme$;getIdFromTitle(n){return n.toLowerCase().replace(/\s+/g,"-")}static \u0275fac=function(e){return new(e||t)(S($))};static \u0275cmp=M({type:t,selectors:[["app-achievement-sector"]],inputs:{achievements:"achievements",unlockedTitles:"unlockedTitles",public:"public"},decls:10,vars:13,consts:[["locked",""],[1,"flex","min-w-[335px]","px-5","lg:px-0","flex-col","gap-6"],[1,"flex","flex-col","gap-2"],[4,"ngIf"],[1,"flex","flex-wrap","gap-x-[54px]","gap-y-[32px]","rounded-[40px]","border","p-6","lg:gap-y-[80px]",3,"ngClass"],["class","flex w-full flex-col gap-6 xxl:max-w-[600px]",4,"ngFor","ngForOf"],[1,"flex","w-full","flex-col","gap-6","xxl:max-w-[600px]"],[1,"flex","flex-col","gap-1","lg:gap-4"],[1,"w-full","border-b",3,"ngClass"],[1,"flex","justify-around","gap-3","lg:gap-[54px]"],["class","flex min-w-[83px] flex-col items-center gap-4 text-center lg:w-[167px] lg:justify-between","role","group",4,"ngFor","ngForOf"],["role","group",1,"flex","min-w-[83px]","flex-col","items-center","gap-4","text-center","lg:w-[167px]","lg:justify-between"],[1,"relative","flex","h-[60px]","w-[60px]","items-center","justify-center","rounded-full","lg:h-[100px]","lg:w-[100px]",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"menu-text-font",3,"ngClass"],[1,"body-font-1",3,"ngClass"],["loading","eager",1,"lg:h-25","lg:w-25","h-[100px]","w-[100px]","object-contain",3,"src","alt"],[1,"h-[60px]","w-[60px]","lg:h-[100px]","lg:w-[100px]","rounded-full","border","border-[var(--color-gray-20)]",3,"ngClass"]],template:function(e,a){e&1&&(o(0,"div",1)(1,"div",2)(2,"h4"),m(3),p(4,"translate"),r(),f(5,He,3,3,"span",3),r(),o(6,"div",4),p(7,"async"),p(8,"async"),f(9,Ge,10,14,"section",5),r()()),e&2&&(i(3),h(c(4,4,"achievements.title")),i(2),l("ngIf",!a.public),i(),l("ngClass",V(10,We,c(7,6,a.currentTheme$)==="light",c(8,8,a.currentTheme$)==="dark")),i(3),l("ngForOf",a.achievements))},dependencies:[k,O,A,F,N,j,R],encapsulation:2})};var re=t=>({count:t});function Je(t,n){if(t&1&&(o(0,"div",9)(1,"h4",10),m(2),p(3,"translate"),r(),o(4,"span",6),m(5),p(6,"translate"),r()()),t&2){let e=d();i(2),g(" ",c(3,2,"favoritesVisited.favoriteCafes")," "),i(3),g(" ",H(6,4,"favoritesVisited.favoriteCafesDescription",P(7,re,e.favoritePlaces.length))," ")}}function Ye(t,n){if(t&1&&(o(0,"div",9),x(1,"app-slider-places",11),p(2,"translate"),p(3,"translate"),r()),t&2){let e=d();i(),l("places",e.favoritePlaces)("cardType",e.PlaceCardType.Favourites)("title",c(2,4,"favoritesVisited.favoriteCafes"))("subtitle",H(3,6,"favoritesVisited.favoriteCafesDescription",P(9,re,e.favoritePlaces.length)))}}function Ze(t,n){if(t&1){let e=w();o(0,"app-place-card",14),y("favoriteToggled",function(s){u(e);let v=d(2);return _(v.onFavoriteToggled(s))}),r()}if(t&2){let e=n.$implicit,a=d(2);l("place",e)("cardType",a.PlaceCardType.Favourites)}}function et(t,n){if(t&1&&(o(0,"div",12),f(1,Ze,1,2,"app-place-card",13),r()),t&2){let e=d();i(),l("ngForOf",e.favoritePlaces)}}function tt(t,n){t&1&&(o(0,"div",9)(1,"h4",10),m(2),p(3,"translate"),r(),o(4,"span",6),m(5),p(6,"translate"),r()()),t&2&&(i(2),g(" ",c(3,2,"favoritesVisited.alreadyVisited")," "),i(3),g(" ",c(6,4,"favoritesVisited.alreadyVisitedDescription")," "))}function it(t,n){if(t&1&&(o(0,"div",9),x(1,"app-slider-places",11),p(2,"translate"),p(3,"translate"),r()),t&2){let e=d();i(),l("places",e.visitedPlaces)("cardType",e.PlaceCardType.Favourites)("title",c(2,4,"favoritesVisited.alreadyVisited"))("subtitle",c(3,6,"favoritesVisited.alreadyVisitedDescription"))}}function nt(t,n){if(t&1){let e=w();o(0,"app-place-card",14),y("favoriteToggled",function(s){u(e);let v=d(2);return _(v.onFavoriteToggledVisited(s))}),r()}if(t&2){let e=n.$implicit,a=d(2);l("place",e)("cardType",a.PlaceCardType.Favourites)}}function rt(t,n){if(t&1&&(C(0),o(1,"div",12),f(2,nt,1,2,"app-place-card",13),r(),b()),t&2){let e=d();i(2),l("ngForOf",e.visitedPlaces)}}function ot(t,n){t&1&&(o(0,"div",15),m(1),p(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"favoritesVisited.noVisitedPlaces")," "))}var Ee=class t{constructor(n){this.cdr=n}favoritePlaces=[];favoritePlacesChanged=new U;visitedPlaces=[];visitedPlacesChanged=new U;PlaceCardType=he;ngOnInit(){this.cdr.detectChanges()}onFavoriteToggled(n){if(n.isFavorite){if(!this.favoritePlaces.some(e=>e.id===n.placeId)){let e=this.favoritePlaces.find(a=>a.id===n.placeId);e&&(this.favoritePlaces=[...this.favoritePlaces,e],this.favoritePlacesChanged.emit(this.favoritePlaces))}}else this.favoritePlaces=this.favoritePlaces.filter(e=>e.id!==n.placeId),this.favoritePlacesChanged.emit(this.favoritePlaces)}onFavoriteToggledVisited(n){n.isFavorite||(this.favoritePlaces=this.favoritePlaces.filter(e=>e.id!==n.placeId),this.favoritePlacesChanged.emit(this.favoritePlaces),this.cdr.detectChanges())}static \u0275fac=function(e){return new(e||t)(S(K))};static \u0275cmp=M({type:t,selectors:[["app-favorites-visited-sector"]],inputs:{favoritePlaces:"favoritePlaces",visitedPlaces:"visitedPlaces"},outputs:{favoritePlacesChanged:"favoritePlacesChanged",visitedPlacesChanged:"visitedPlacesChanged"},decls:25,vars:22,consts:[["noVisitedPlacesTemplate",""],[1,"flex","px-5","flex-col","lg:px-10","xxl:px-0","gap-12"],[1,"flex","flex-col"],["class","block lg:hidden",4,"ngIf"],[1,"hidden","lg:block"],[1,"mb-2","text-[32px]","xxl:text-[40px]"],[1,"body-font-1","mb-4","block"],["class","hidden w-full gap-x-[20px] gap-y-[12px] lg:grid lg:grid-cols-6 xxl:grid-cols-8",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"block","lg:hidden"],[1,"mb-2","text-[20px]","sm:text-[24px]"],[3,"places","cardType","title","subtitle"],[1,"hidden","w-full","gap-x-[20px]","gap-y-[12px]","lg:grid","lg:grid-cols-6","xxl:grid-cols-8"],["class","col-span-2",3,"place","cardType","favoriteToggled",4,"ngFor","ngForOf"],[1,"col-span-2",3,"favoriteToggled","place","cardType"],[1,"mt-4","text-gray-500","lg:block"]],template:function(e,a){if(e&1&&(o(0,"div",1)(1,"section",2),f(2,Je,7,9,"div",3),o(3,"div",4)(4,"h4",5),m(5),p(6,"translate"),r(),o(7,"span",6),m(8),p(9,"translate"),r()(),f(10,Ye,4,11,"div",3)(11,et,2,1,"div",7),r(),o(12,"section",2),f(13,tt,7,6,"div",3),o(14,"div",4)(15,"h4",5),m(16),p(17,"translate"),r(),o(18,"span",6),m(19),p(20,"translate"),r()(),f(21,it,4,8,"div",3)(22,rt,3,1,"ng-container",8)(23,ot,3,3,"ng-template",null,0,I),r()()),e&2){let s=E(24);i(2),l("ngIf",a.favoritePlaces.length===0),i(3),g(" ",c(6,11,"favoritesVisited.favoriteCafes")," "),i(3),g(" ",H(9,13,"favoritesVisited.favoriteCafesDescription",P(20,re,a.favoritePlaces.length))," "),i(2),l("ngIf",a.favoritePlaces.length>0),i(),l("ngIf",a.favoritePlaces.length>0),i(2),l("ngIf",a.visitedPlaces.length===0),i(3),g(" ",c(17,16,"favoritesVisited.alreadyVisited")," "),i(3),g(" ",c(20,18,"favoritesVisited.alreadyVisitedDescription")," "),i(2),l("ngIf",a.visitedPlaces.length>0),i(),l("ngIf",a.visitedPlaces.length>0)("ngIfElse",s)}},dependencies:[k,A,F,D,Ce,ye,N,R],encapsulation:2})};var at=["slideRef"],Pe=(t,n)=>({"bg-[var(--color-white)]":t,"bg-[var(--color-gray-100)]":n});function lt(t,n){if(t&1&&x(0,"img",23),t&2){let e=n.ngIf;l("src",e,T)}}function pt(t,n){if(t&1&&x(0,"img",24),t&2){let e=d(4);l("src",e.userPhotoUrl,T)("alt",e.userFirstName+" "+e.userLastName)}}function st(t,n){if(t&1&&(C(0),x(1,"app-icon",25),b()),t&2){let e=d(4);i(),l("icon",e.ICONS.Star)}}function ct(t,n){if(t&1&&(o(0,"div",12)(1,"div",13),f(2,lt,1,1,"img",14),p(3,"badgeImage"),f(4,pt,1,2,"img",15),r(),o(5,"div",16)(6,"div",17)(7,"span",18),m(8),r(),o(9,"span",5),m(10),r(),o(11,"div",19),f(12,st,2,1,"ng-container",20),r()(),o(13,"div",21)(14,"span",22),m(15),r()()()()),t&2){let e=n.$implicit,a=d(3);i(2),l("ngIf",c(3,7,a.badgeType)),i(2),l("ngIf",a.userPhotoUrl),i(4),W("",a.userFirstName," ",a.userLastName),i(2),h(e.text),i(2),l("ngForOf",a.getStarsArray(e.rating)),i(3),h(a.formatDate(e.createdAt))}}function dt(t,n){if(t&1){let e=w();o(0,"button",26),y("click",function(){u(e);let s=d(3);return _(s.showMore())}),m(1),p(2,"translate"),r()}t&2&&(i(),g(" ",c(2,1,"reviews.showMore")," "))}function mt(t,n){if(t&1&&(C(0),o(1,"div",8),f(2,ct,16,9,"div",10),r(),f(3,dt,3,3,"button",11),b()),t&2){let e=d(2);i(2),l("ngForOf",e.reviews.slice(0,e.visibleCount)),i(),l("ngIf",e.reviews.length>e.visibleCount)}}function ft(t,n){t&1&&(o(0,"div",27),m(1),p(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"myReviews.noReviews")," "))}function gt(t,n){if(t&1&&(o(0,"section",8),f(1,mt,4,2,"ng-container",9)(2,ft,3,3,"ng-template",null,0,I),r()),t&2){let e=E(3),a=d();i(),l("ngIf",a.reviews.length>0)("ngIfElse",e)}}function xt(t,n){if(t&1&&(x(0,"img",44),p(1,"badgeImage")),t&2){let e=d(3);l("alt",me("",e.badgeType," badge"))("src",c(1,3,e.badgeType),T)}}function vt(t,n){if(t&1&&(C(0),x(1,"app-icon",25),b()),t&2){let e=d(3);i(),l("icon",e.ICONS.Star)}}function ut(t,n){if(t&1&&(o(0,"div",45),m(1),r()),t&2){let e=d().$implicit;i(),g(" ",e.text," ")}}function _t(t,n){if(t&1){let e=w();C(0),o(1,"div",46)(2,"div",37),x(3,"img",47),o(4,"div",48)(5,"div",18),m(6),r(),o(7,"div",49),x(8,"app-icon",25),o(9,"span",50),m(10),r()()()(),o(11,"button",51),y("click",function(){let s=u(e).ngIf,v=d(3);return _(v.goToCafe(s.id))}),m(12),p(13,"translate"),x(14,"app-icon",25),r()(),b()}if(t&2){let e=n.ngIf,a=d(3);i(3),l("alt",de(e.name))("src",e.photoUrls[0],T),i(3),h(e.name),i(2),l("icon",a.ICONS.Location),i(2),h(e.address),i(2),g(" ",c(13,8,"myReviews.goToCafe")," "),i(2),l("icon",a.ICONS.ArrowDownRightPrimary)}}function ht(t,n){t&1&&(o(0,"div",52)(1,"em",53),m(2),p(3,"translate"),r()()),t&2&&(i(2),g(" ",c(3,1,"myReviews.noReviewText")," "))}function yt(t,n){if(t&1&&(o(0,"div",35,1)(2,"div",36)(3,"div",37)(4,"div",38),f(5,xt,2,5,"img",39),x(6,"img",40),r(),o(7,"div",4)(8,"span"),m(9),r(),o(10,"div",41),p(11,"translate"),f(12,vt,2,1,"ng-container",20),r()()(),f(13,ut,2,1,"div",42)(14,_t,15,10,"ng-container",43)(15,ht,4,3,"ng-template",null,2,I),r()()),t&2){let e=n.$implicit,a=E(16),s=d(2);Z("width",s.slideWidthPx-20,"px"),i(5),l("ngIf",s.badgeType),i(),l("src",s.userPhotoUrl,T),i(3),W("",s.userFirstName," ",s.userLastName),i(),B("aria-label",c(11,11,"myReviews.ratingStars")),i(2),l("ngForOf",s.createStarsArray(e.rating)),i(),l("ngIf",e.text)("ngIfElse",a),i(),l("ngIf",s.getPlaceById(e.cafeId))}}function Ct(t,n){if(t&1){let e=w();o(0,"section",28)(1,"div",29)(2,"button",30),p(3,"async"),p(4,"async"),p(5,"translate"),y("click",function(){u(e);let s=d();return _(s.prevSlide())}),x(6,"app-icon",31),p(7,"themedIcon"),r(),o(8,"div",32)(9,"div",33),f(10,yt,17,13,"div",34),r()(),o(11,"button",30),p(12,"async"),p(13,"async"),p(14,"translate"),y("click",function(){u(e);let s=d();return _(s.nextSlide())}),x(15,"app-icon",31),p(16,"themedIcon"),r()()()}if(t&2){let e=d();i(2),l("ngClass",V(31,Pe,c(3,15,e.currentTheme$)==="light",c(4,17,e.currentTheme$)==="dark")),B("aria-label",c(5,19,"myReviews.ariaPrev")),i(4),l("icon",c(7,21,"ArrowLeft"))("width",32)("height",32),i(3),Z("transform",e.transformStyle)("width",e.slidesContainerWidthPx,"px"),i(),l("ngForOf",e.reviews),i(),l("ngClass",V(34,Pe,c(12,23,e.currentTheme$)==="light",c(13,25,e.currentTheme$)==="dark")),B("aria-label",c(14,27,"myReviews.ariaNext")),i(4),l("icon",c(16,29,"ArrowRight"))("width",32)("height",32)}}function bt(t,n){t&1&&(o(0,"div",54),m(1),p(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"myReviews.noReviews")," "))}var Me=class t{constructor(n,e,a,s,v){this.authApiService=n;this.cdr=e;this.router=a;this.datePipe=s;this.themeService=v;this.currentTheme$=this.themeService.theme$}userId;userPhotoUrl=null;places=[];badgeType=null;reviews=[];userFirstName=null;userLastName=null;ICONS=X;isMobile=!1;visibleCount=2;currentSlide=0;slidesToShow=2;slideRefs;slideWidthPx=0;slidesContainerWidthPx=0;currentTheme$;ngOnInit(){if(this.onResize(),!this.userId){console.error("userId is not provided");return}this.authApiService.getPublicUserProfile(this.userId).subscribe({next:n=>{this.userFirstName=n.firstName,this.userLastName=n.lastName,this.reviews=(n.reviews||[]).map(e=>ae(oe({},e),{userId:this.userId,userName:this.userFirstName??"",userSurname:this.userLastName??"",userPhotoUrl:this.userPhotoUrl??""})),this.cdr.detectChanges()},error:n=>{console.error("Failed to load user profile reviews:",n)}})}ngAfterViewInit(){this.calculateSlideWidth(),window.addEventListener("resize",()=>{this.calculateSlideWidth()})}calculateSlideWidth(){let n=window.innerWidth>1320?1320:window.innerWidth,e=Math.min(n/this.slidesToShow-20,578);this.slideWidthPx=e+20,this.slidesContainerWidthPx=(e+20)*this.reviews.length,this.cdr.detectChanges()}updateSlideWidth(){if(this.slideRefs&&this.slideRefs.length>0){let n=this.slideRefs.first.nativeElement;this.slideWidthPx=n.offsetWidth+20,this.cdr.detectChanges()}}get transformStyle(){return`translateX(-${this.currentSlide*this.slideWidthPx}px)`}onResize(){let n=this.isMobile;this.isMobile=window.innerWidth<1440,n!==this.isMobile&&this.cdr.detectChanges()}showMore(){this.visibleCount<this.reviews.length&&(this.visibleCount+=2)}createStarsArray(n){return Array.from({length:n},(e,a)=>a)}getStarsArray(n){return this.createStarsArray(n)}formatDate(n){return this.datePipe.transform(n,"MMM dd, yyyy")}getPlaceById(n){return this.places.find(e=>e.id===n)}goToCafe(n){this.router.navigate(["/catalog",n])}prevSlide(){this.currentSlide===0?this.currentSlide=Math.max(this.reviews.length-this.slidesToShow,0):this.currentSlide--}nextSlide(){this.currentSlide>=this.reviews.length-this.slidesToShow?this.currentSlide=0:this.currentSlide++}static \u0275fac=function(e){return new(e||t)(S(_e),S(K),S(ge),S(q),S($))};static \u0275cmp=M({type:t,selectors:[["app-my-reviews"]],viewQuery:function(e,a){if(e&1&&pe(at,5),e&2){let s;se(s=ce())&&(a.slideRefs=s)}},hostBindings:function(e,a){e&1&&y("resize",function(){return a.onResize()},le)},inputs:{userId:"userId",userPhotoUrl:"userPhotoUrl",places:"places",badgeType:"badgeType"},features:[fe([q])],decls:12,vars:8,consts:[["noReviews",""],["slideRef",""],["noText",""],[1,"mx-auto","px-5","flex","w-full","max-w-[1320px]","flex-col","gap-6","lg:px-10","xxl:px-0"],[1,"flex","flex-col","gap-2"],[1,"body-font-1"],["class","flex flex-col gap-4",4,"ngIf"],["class","flex flex-col items-center",4,"ngIf"],[1,"flex","flex-col","gap-4"],[4,"ngIf","ngIfElse"],["class","flex gap-4 px-[18px] py-[15px]",4,"ngFor","ngForOf"],["class","underline","style","text-decoration-style: dotted; text-underline-offset: 4px;",3,"click",4,"ngIf"],[1,"flex","gap-4","px-[18px]","py-[15px]"],[1,"relative","inline-block","h-[50px]","w-[50px]","flex-shrink-0"],["alt","badge","class","pointer-events-none absolute left-0 top-0 h-full w-full rounded-full object-cover",3,"src",4,"ngIf"],["class","absolute left-1/2 top-1/2 h-[44px] w-[44px] rounded-full object-cover","style","transform: translate(-50%, -50%)",3,"src","alt",4,"ngIf"],[1,"flex","flex-1","flex-col","gap-2","lg:flex-row","lg:gap-0"],[1,"flex","flex-1","flex-col","gap-2"],[1,"menu-text-font"],[1,"flex","gap-[2px]"],[4,"ngFor","ngForOf"],[1,"w-22","relative","flex","flex-shrink-0","items-end","justify-between","lg:h-[113px]","lg:flex-col","lg:items-center"],[1,"body-font-2"],["alt","badge",1,"pointer-events-none","absolute","left-0","top-0","h-full","w-full","rounded-full","object-cover",3,"src"],[1,"absolute","left-1/2","top-1/2","h-[44px]","w-[44px]","rounded-full","object-cover",2,"transform","translate(-50%, -50%)",3,"src","alt"],[3,"icon"],[1,"underline",2,"text-decoration-style","dotted","text-underline-offset","4px",3,"click"],[1,"mt-4","text-gray-500"],[1,"flex","flex-col","items-center"],[1,"flex","w-full","max-w-[1320px]","items-center","gap-5"],[1,"flex","h-[52px]","w-[52px]","cursor-pointer","select-none","items-center","justify-center","rounded-full","border-none","p-2","text-2xl","transition",3,"click","ngClass"],[3,"icon","width","height"],[1,"flex","w-full","overflow-hidden"],[1,"flex","gap-[20px]","transition-transform","duration-300","ease-in-out","will-change-transform"],["class","box-border flex-shrink-0 px-2","style","max-width: 578px;",3,"width",4,"ngFor","ngForOf"],[1,"box-border","flex-shrink-0","px-2",2,"max-width","578px"],[1,"flex","h-full","flex-col","justify-between","gap-4","rounded-2xl","border","border-gray-300","p-4"],[1,"flex","items-center","gap-3"],[1,"relative","mr-2","h-[50px]","w-[50px]"],["class","absolute left-0 top-0 h-[50px] w-[50px] object-contain",3,"src","alt",4,"ngIf"],["alt","User photo",1,"absolute","left-1/2","top-1/2","h-[44px]","w-[44px]","-translate-x-1/2","-translate-y-1/2","transform","rounded-full","object-cover",3,"src"],[1,"flex","gap-0.5"],["class","body-font-1 overflow-hidden text-ellipsis","style",`
                      display: -webkit-box;
                      -webkit-line-clamp: 6;
                      -webkit-box-orient: vertical;
                      word-break: break-word;
                      height: 144px;
                    `,4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"absolute","left-0","top-0","h-[50px]","w-[50px]","object-contain",3,"src","alt"],[1,"body-font-1","overflow-hidden","text-ellipsis",2,"display","-webkit-box","-webkit-line-clamp","6","-webkit-box-orient","vertical","word-break","break-word","height","144px"],[1,"flex","flex-wrap","items-center","justify-between","gap-4"],[1,"h-12","w-12","rounded-full","object-cover",3,"src","alt"],[1,"flex","flex-col","gap-1"],[1,"flex","items-center","gap-2"],[1,"body-font-1","underline"],[1,"button-bg-transparent","flex","w-full","items-center","gap-2","whitespace-nowrap","px-4","py-2","lg:w-auto",3,"click"],[1,"flex","flex-1","items-center","justify-center","text-center"],[1,"text-gray-400"],[1,"mt-4","w-full","text-gray-500"]],template:function(e,a){e&1&&(o(0,"div",3)(1,"header",4)(2,"h5"),m(3),p(4,"translate"),r(),o(5,"span",5),m(6),p(7,"translate"),r()(),f(8,gt,4,2,"section",6)(9,Ct,17,37,"section",7)(10,bt,3,3,"ng-template",null,0,I),r()),e&2&&(i(3),h(c(4,4,"myReviews.title")),i(3),h(c(7,6,"myReviews.description")),i(2),l("ngIf",a.isMobile),i(),l("ngIf",!a.isMobile&&a.reviews.length>0))},dependencies:[k,O,A,F,D,G,N,j,Y,R,J],encapsulation:2})};export{be as a,Te as b,Ee as c,Me as d};
