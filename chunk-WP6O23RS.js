import{b as H,c as $,d as G,e as j,f as q,g as Y,h as K,i as _e,j as W}from"./chunk-OVFD7ZCN.js";import{$ as m,$a as T,A as _,Aa as X,Ab as Q,B as f,Bb as we,Cb as Ce,Db as ve,Ea as R,Fa as b,Ha as ce,J as le,Ja as o,Ka as n,M as i,P as C,R as x,Sa as N,Ta as ue,Ua as V,Va as ge,W as S,Wa as he,X as y,Ya as L,_ as E,aa as s,ba as l,ca as v,ga as me,ha as de,ia as A,ja as u,ka as g,nb as te,rb as O,sa as U,ta as c,tb as fe,ua as w,ub as B,va as h,vb as k,wb as F,xa as P,xb as z,ya as I,za as M}from"./chunk-2Z55U5GN.js";var Te=(r,a)=>({"text-[var(--color-gray-75)]":r,"text-[var(--color-gray-55)]":a}),Ee=(r,a)=>({"border-[var(--color-gray-20)] placeholder-[var(--color-gray-75)]":r,"border-[var(--color-gray-100)] placeholder-[var(--color-gray-55)]":a}),Ae=(r,a,t,e)=>({"button-bg-blue":r,"text-[var(--color-gray-55)]":a,"bg-[var(--color-gray-20)]":t,"bg-[var(--color-gray-100)]":e}),ie=class r{constructor(a){this.themeService=a;this.currentTheme$=this.themeService.theme$}email="";emailSubmit=new y;toggleForm=new y;currentTheme$;get isValidEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)}submitEmail(){this.isValidEmail&&this.emailSubmit.emit(this.email)}static \u0275fac=function(t){return new(t||r)(C(O))};static \u0275cmp=x({type:r,selectors:[["app-auth-email-step"]],inputs:{email:"email"},outputs:{emailSubmit:"emailSubmit",toggleForm:"toggleForm"},decls:28,vars:46,consts:[[1,"flex","flex-col","gap-8"],[1,"flex","flex-col","gap-5"],[1,"text-center"],[1,"body-font-1","text-center"],["type","button",1,"underline",3,"click"],[1,"flex","flex-col","gap-[12px]",3,"ngSubmit"],[1,"flex","flex-col","gap-[4px]"],[1,"body-font-2",3,"ngClass"],["type","email","name","email","required","","email","",1,"body-font-1","rounded-[40px]","border","bg-[var(--color-bg)]","px-6","py-3","focus:outline-none",3,"ngModelChange","ngModel","placeholder","ngClass"],["type","submit",1,"rounded-[40px]","px-[32px]","py-[12px]","button-font",3,"disabled","ngClass"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"div",1)(2,"h4",2),c(3),o(4,"translate"),l(),s(5,"span",3),c(6),o(7,"translate"),s(8,"button",4),u("click",function(){return e.toggleForm.emit()}),s(9,"h6"),c(10),o(11,"translate"),l()()()(),s(12,"form",5),u("ngSubmit",function(){return e.submitEmail()}),s(13,"label",6)(14,"span",7),o(15,"async"),o(16,"async"),c(17),o(18,"translate"),l(),s(19,"input",8),o(20,"translate"),o(21,"async"),o(22,"async"),M("ngModelChange",function(d){return I(e.email,d)||(e.email=d),d}),l()(),s(23,"button",9),o(24,"async"),o(25,"async"),c(26),o(27,"translate"),l()()()),t&2&&(i(3),w(n(4,11,"AUTH.REGISTER_TITLE")),i(3),h(" ",n(7,13,"AUTH.ALREADY_HAVE_ACCOUNT")," "),i(4),w(n(11,15,"button.log_in")),i(4),m("ngClass",b(35,Te,n(15,17,e.currentTheme$)==="light",n(16,19,e.currentTheme$)==="dark")),i(3),h(" ",n(18,21,"AUTH.EMAIL_PROMPT_1")," "),i(2),P("ngModel",e.email),m("placeholder",n(20,23,"AUTH.EMAIL_PLACEHOLDER"))("ngClass",b(38,Ee,n(21,25,e.currentTheme$)==="light",n(22,27,e.currentTheme$)==="dark")),i(4),m("disabled",!e.isValidEmail)("ngClass",ce(41,Ae,e.isValidEmail,!e.isValidEmail,n(24,29,e.currentTheme$)==="light"&&!e.isValidEmail,n(25,31,e.currentTheme$)==="dark"&&!e.isValidEmail)),i(3),h(" ",n(27,33,"AUTH.NEXT")," "))},dependencies:[T,N,W,Y,H,$,G,K,_e,q,j,k,L,B],encapsulation:2})};var D=r=>[r];function Pe(r,a){if(r&1){let t=A();s(0,"button",19),o(1,"translate"),u("click",function(){_(t);let p=g();return f(p.toggleShowPassword())}),v(2,"app-icon",20),o(3,"themedIcon"),l()}if(r&2){let t=g();E("aria-label",n(1,2,"AUTH.TOGGLE_PASSWORD_VISIBILITY")),i(2),m("icon",n(3,4,t.showPassword?"EyeSlash":"Eye"))}}function Ie(r,a){if(r&1&&(s(0,"div",21),v(1,"app-icon",22),c(2),o(3,"translate"),l()),r&2){let t=g();i(),m("icon",t.ICONS.RedClose),i(),h(" ",n(3,2,"AUTH.PASSWORD_TOO_WEAK")," ")}}function Me(r,a){if(r&1){let t=A();s(0,"button",19),o(1,"translate"),u("click",function(){_(t);let p=g();return f(p.toggleShowRepeatPassword())}),v(2,"app-icon",20),o(3,"themedIcon"),l()}if(r&2){let t=g();E("aria-label",n(1,2,"AUTH.TOGGLE_REPEAT_PASSWORD_VISIBILITY")),i(2),m("icon",n(3,4,t.showRepeatPassword?"EyeSlash":"Eye"))}}function Ne(r,a){if(r&1&&(s(0,"div",23),v(1,"app-icon",22),c(2),o(3,"translate"),l()),r&2){let t=g();i(),m("icon",t.ICONS.RedClose),i(),h(" ",n(3,2,"AUTH.PASSWORD_MISMATCH")," ")}}var re=class r{constructor(a){this.themeService=a;this.currentTheme$=this.themeService.theme$}ICONS=F;email="";password="";repeatPassword="";showPassword=!1;showRepeatPassword=!1;passwordTooWeak=!1;passwordMismatch=!1;firstName="";lastName="";firstNameChange=new y;lastNameChange=new y;passwordChange=new y;repeatPasswordChange=new y;passwordSubmit=new y;goBack=new y;currentTheme$;toggleShowPassword(){this.showPassword=!this.showPassword}toggleShowRepeatPassword(){this.showRepeatPassword=!this.showRepeatPassword}submitPassword(){this.passwordSubmit.emit()}static \u0275fac=function(t){return new(t||r)(C(O))};static \u0275cmp=x({type:r,selectors:[["app-auth-password-step"]],inputs:{email:"email",password:"password",repeatPassword:"repeatPassword",showPassword:"showPassword",showRepeatPassword:"showRepeatPassword",passwordTooWeak:"passwordTooWeak",passwordMismatch:"passwordMismatch",firstName:"firstName",lastName:"lastName"},outputs:{firstNameChange:"firstNameChange",lastNameChange:"lastNameChange",passwordChange:"passwordChange",repeatPasswordChange:"repeatPasswordChange",passwordSubmit:"passwordSubmit",goBack:"goBack"},decls:56,vars:102,consts:[[1,"flex","flex-col","gap-8"],[1,"flex","flex-col","gap-5"],["role","button","tabindex","0",1,"flex","cursor-pointer","select-none","items-center",2,"user-select","none",3,"click","keydown.enter","keydown.space"],[1,"mr-[32px]",3,"icon","width","height"],[1,"m-0"],[1,"body-font-1","text-center"],["autocomplete","off",1,"flex","flex-col","gap-[12px]",3,"ngSubmit"],[1,"relative","flex","flex-col","gap-[4px]"],[1,"body-font-2",3,"ngClass"],[1,"relative"],["name","password","autocomplete","new-password",1,"body-font-1","w-full","rounded-[40px]","border","bg-[var(--color-bg)]","px-6","py-3","placeholder-[var(--color-gray-75)]","outline-none",3,"ngModelChange","type","placeholder","ngModel","ngClass"],["type","button","tabindex","-1","class","absolute right-0 top-0 flex h-full w-[60px] items-center justify-center",3,"click",4,"ngIf"],["class","body-font-2 mt-1 flex select-none items-center gap-[4px] text-[var(--color-button-error)]","role","alert",4,"ngIf"],["autocomplete","new-password","required","","name","confirmPass","aria-describedby","passwordMismatchMessage",1,"body-font-1","w-full","rounded-[40px]","border","bg-[var(--color-bg)]","px-6","py-3","outline-none",3,"ngModelChange","type","placeholder","ngModel","ngClass"],["id","passwordMismatchMessage","class","body-font-2 flex select-none items-center gap-[4px] text-[var(--color-button-error)]","role","alert",4,"ngIf"],[1,"flex","flex-col","gap-[4px]"],["type","text","name","firstName","required","",1,"body-font-1","w-full","rounded-[40px]","border","bg-[var(--color-bg)]","px-6","py-3","placeholder-[var(--color-gray-75)]","outline-none",3,"ngModelChange","ngModel","placeholder","ngClass"],["type","text","name","lastName","required","",1,"body-font-1","w-full","rounded-[40px]","border","bg-[var(--color-bg)]","px-6","py-3","placeholder-[var(--color-gray-75)]","outline-none",3,"ngModelChange","ngModel","placeholder","ngClass"],["type","submit",1,"button-font","button-bg-blue","px-[32px]","py-[12px]"],["type","button","tabindex","-1",1,"absolute","right-0","top-0","flex","h-full","w-[60px]","items-center","justify-center",3,"click"],[1,"h-[20px]","w-[20px]",3,"icon"],["role","alert",1,"body-font-2","mt-1","flex","select-none","items-center","gap-[4px]","text-[var(--color-button-error)]"],[3,"icon"],["id","passwordMismatchMessage","role","alert",1,"body-font-2","flex","select-none","items-center","gap-[4px]","text-[var(--color-button-error)]"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"div",1)(2,"div",2),o(3,"translate"),u("click",function(){return e.goBack.emit()})("keydown.enter",function(){return e.goBack.emit()})("keydown.space",function(){return e.goBack.emit()}),v(4,"app-icon",3),o(5,"themedIcon"),s(6,"h4",4),c(7),o(8,"translate"),l()(),s(9,"span",5),c(10),o(11,"translate"),s(12,"span"),c(13),l()()(),s(14,"form",6),u("ngSubmit",function(){return e.submitPassword()}),s(15,"div",7)(16,"span",8),o(17,"async"),c(18),o(19,"translate"),l(),s(20,"div",9)(21,"input",10),o(22,"translate"),o(23,"async"),M("ngModelChange",function(d){return I(e.password,d)||(e.password=d),d}),u("ngModelChange",function(d){return e.passwordChange.emit(d)}),l(),S(24,Pe,4,6,"button",11),l(),S(25,Ie,4,4,"div",12),l(),s(26,"div",7)(27,"span",8),o(28,"async"),c(29),o(30,"translate"),l(),s(31,"div",9)(32,"input",13),o(33,"translate"),o(34,"async"),M("ngModelChange",function(d){return I(e.repeatPassword,d)||(e.repeatPassword=d),d}),u("ngModelChange",function(d){return e.repeatPasswordChange.emit(d)}),l(),S(35,Me,4,6,"button",11),l(),S(36,Ne,4,4,"div",14),l(),s(37,"div",15)(38,"span",8),o(39,"async"),c(40),o(41,"translate"),l(),s(42,"input",16),o(43,"translate"),o(44,"async"),M("ngModelChange",function(d){return I(e.firstName,d)||(e.firstName=d),d}),u("ngModelChange",function(d){return e.firstNameChange.emit(d)}),l()(),s(45,"div",15)(46,"span",8),o(47,"async"),c(48),o(49,"translate"),l(),s(50,"input",17),o(51,"translate"),o(52,"async"),M("ngModelChange",function(d){return I(e.lastName,d)||(e.lastName=d),d}),u("ngModelChange",function(d){return e.lastNameChange.emit(d)}),l()(),s(53,"button",18),c(54),o(55,"translate"),l()()()),t&2&&(i(2),E("aria-label",n(3,44,"AUTH.BACK_BUTTON_LABEL")),i(2),m("icon",n(5,46,"ArrowLeft"))("width",32)("height",32),i(3),w(n(8,48,"AUTH.REGISTER_TITLE")),i(3),h(" ",n(11,50,"AUTH.EMAIL_PROMPT")," "),i(3),w(e.email),i(3),m("ngClass",R(86,D,n(17,52,e.currentTheme$)==="light"?"text-[var(--color-gray-75)]":"text-[var(--color-gray-55)]")),i(2),h(" ",n(19,54,"AUTH.PASSWORD_LABEL")," "),i(3),U("border-red-600",e.passwordTooWeak),m("placeholder",X(n(22,56,"AUTH.PASSWORD_PLACEHOLDER")))("type",e.showPassword?"text":"password"),P("ngModel",e.password),m("ngClass",R(88,D,n(23,58,e.currentTheme$)==="light"?"border-[var(--color-gray-20)] placeholder-[var(--color-gray-75)]":"border-[var(--color-gray-100)] placeholder-[var(--color-gray-55)]")),E("aria-invalid",e.passwordTooWeak),i(3),m("ngIf",e.password),i(),m("ngIf",e.passwordTooWeak),i(2),m("ngClass",R(90,D,n(28,60,e.currentTheme$)==="light"?"text-[var(--color-gray-75)]":"text-[var(--color-gray-55)]")),i(2),h(" ",n(30,62,"AUTH.CONFIRM_PASSWORD_LABEL")," "),i(3),U("border-red-600",e.passwordMismatch),m("placeholder",X(n(33,64,"AUTH.CONFIRM_PASSWORD_PLACEHOLDER")))("type",e.showRepeatPassword?"text":"password"),P("ngModel",e.repeatPassword),m("ngClass",R(92,D,n(34,66,e.currentTheme$)==="light"?"border-[var(--color-gray-20)] placeholder-[var(--color-gray-75)]":"border-[var(--color-gray-100)] placeholder-[var(--color-gray-55)]")),E("aria-invalid",e.passwordMismatch),i(3),m("ngIf",e.repeatPassword),i(),m("ngIf",e.passwordMismatch),i(2),m("ngClass",R(94,D,n(39,68,e.currentTheme$)==="light"?"text-[var(--color-gray-75)]":"text-[var(--color-gray-55)]")),i(2),h(" ",n(41,70,"AUTH.FIRST_NAME_LABEL")," "),i(2),m("placeholder",X(n(43,72,"AUTH.FIRST_NAME_PLACEHOLDER"))),P("ngModel",e.firstName),m("ngClass",R(96,D,n(44,74,e.currentTheme$)==="light"?"border-[var(--color-gray-20)] placeholder-[var(--color-gray-75)]":"border-[var(--color-gray-100)] placeholder-[var(--color-gray-55)]")),i(4),m("ngClass",R(98,D,n(47,76,e.currentTheme$)==="light"?"text-[var(--color-gray-75)]":"text-[var(--color-gray-55)]")),i(2),h(" ",n(49,78,"AUTH.LAST_NAME_LABEL")," "),i(2),m("placeholder",X(n(51,80,"AUTH.LAST_NAME_PLACEHOLDER"))),P("ngModel",e.lastName),m("ngClass",R(100,D,n(52,82,e.currentTheme$)==="light"?"border-[var(--color-gray-20)] placeholder-[var(--color-gray-75)]":"border-[var(--color-gray-100)] placeholder-[var(--color-gray-55)]")),i(4),h(" ",n(55,84,"AUTH.CREATE_ACCOUNT")," "))},dependencies:[T,N,V,W,Y,H,$,G,K,q,j,z,k,L,Q,B],encapsulation:2})};var ye=(r,a)=>({"text-[var(--color-gray-75)]":r,"text-[var(--color-gray-55)]":a}),be=(r,a)=>({"border-[var(--color-gray-20)] placeholder-[var(--color-gray-75)]":r,"border-[var(--color-gray-100)] placeholder-[var(--color-gray-55)]":a});function Le(r,a){if(r&1&&(s(0,"div",14),v(1,"app-icon",15),c(2),o(3,"translate"),l()),r&2){let t=g();i(),m("icon",t.ICONS.RedClose),i(),h(" ",n(3,2,"AUTH.EMAIL_REQUIRED")," ")}}function Oe(r,a){if(r&1){let t=A();s(0,"button",16),o(1,"translate"),u("click",function(){_(t);let p=g();return f(p.togglePasswordVisibility.emit())}),v(2,"app-icon",17),l()}if(r&2){let t=g();E("aria-label",n(1,2,"AUTH.TOGGLE_PASSWORD_VISIBILITY")),i(2),m("icon",t.showPassword?t.ICONS.EyeSlash:t.ICONS.Eye)}}function Be(r,a){if(r&1&&(s(0,"div",18),v(1,"app-icon",15),c(2),o(3,"translate"),l()),r&2){let t=g();i(),m("icon",t.ICONS.RedClose),i(),h(" ",n(3,2,"AUTH.PASSWORD_REQUIRED")," ")}}var ae=class r{constructor(a){this.themeService=a;this.currentTheme$=this.themeService.theme$}ICONS=F;email="";password="";showPassword=!1;loginError=!1;emailChange=new y;passwordChange=new y;togglePasswordVisibility=new y;loginSubmit=new y;goBack=new y;currentTheme$;submitLogin(){this.loginSubmit.emit()}static \u0275fac=function(t){return new(t||r)(C(O))};static \u0275cmp=x({type:r,selectors:[["app-auth-login-step"]],inputs:{email:"email",password:"password",showPassword:"showPassword",loginError:"loginError"},outputs:{emailChange:"emailChange",passwordChange:"passwordChange",togglePasswordVisibility:"togglePasswordVisibility",loginSubmit:"loginSubmit",goBack:"goBack"},decls:36,vars:71,consts:[[1,"flex","flex-col","gap-8"],["role","button","tabindex","0",1,"flex","cursor-pointer","select-none",2,"user-select","none",3,"click","keydown.enter","keydown.space"],[1,"mr-[32px]",3,"icon","width","height"],["autocomplete","off","novalidate","",1,"flex","flex-col","gap-[12px]",3,"ngSubmit"],[1,"flex","flex-col","gap-[4px]"],[1,"body-font-2",3,"ngClass"],["type","email","name","loginEmail","required","","aria-describedby","emailError",1,"body-font-1","rounded-[40px]","border","bg-[var(--color-bg)]","px-6","py-3","focus:outline-none",3,"ngModelChange","ngModel","placeholder","ngClass"],["id","emailError","role","alert","class","body-font-2 mt-1 flex select-none items-center gap-[4px] text-[var(--color-button-error)]",4,"ngIf"],[1,"relative","flex","flex-col","gap-[4px]"],[1,"relative"],["name","loginPassword","required","","aria-describedby","passwordError",1,"body-font-1","w-full","rounded-[40px]","border","bg-[var(--color-bg)]","px-6","py-3","outline-none",3,"ngModelChange","type","ngModel","placeholder","ngClass"],["type","button","tabindex","-1","class","absolute right-0 top-0 flex h-full w-[60px] items-center justify-center",3,"click",4,"ngIf"],["id","passwordError","role","alert","class","body-font-2 mt-1 flex select-none items-center gap-[4px] text-[var(--color-button-error)]",4,"ngIf"],["type","submit",1,"button-font","button-bg-blue","px-[32px]","py-[12px]",3,"disabled"],["id","emailError","role","alert",1,"body-font-2","mt-1","flex","select-none","items-center","gap-[4px]","text-[var(--color-button-error)]"],[3,"icon"],["type","button","tabindex","-1",1,"absolute","right-0","top-0","flex","h-full","w-[60px]","items-center","justify-center",3,"click"],[1,"h-[20px]","w-[20px]",3,"icon"],["id","passwordError","role","alert",1,"body-font-2","mt-1","flex","select-none","items-center","gap-[4px]","text-[var(--color-button-error)]"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"div",1),o(2,"translate"),u("click",function(){return e.goBack.emit()})("keydown.enter",function(){return e.goBack.emit()})("keydown.space",function(){return e.goBack.emit()}),v(3,"app-icon",2),o(4,"themedIcon"),s(5,"h4"),c(6),o(7,"translate"),l()(),s(8,"form",3),u("ngSubmit",function(){return e.submitLogin()}),s(9,"div",4)(10,"span",5),o(11,"async"),o(12,"async"),c(13),o(14,"translate"),l(),s(15,"input",6),o(16,"translate"),o(17,"async"),o(18,"async"),M("ngModelChange",function(d){return I(e.email,d)||(e.email=d),d}),u("ngModelChange",function(d){return e.emailChange.emit(d)}),l(),S(19,Le,4,4,"div",7),l(),s(20,"div",8)(21,"span",5),o(22,"async"),o(23,"async"),c(24),o(25,"translate"),l(),s(26,"div",9)(27,"input",10),o(28,"translate"),o(29,"async"),o(30,"async"),M("ngModelChange",function(d){return I(e.password,d)||(e.password=d),d}),u("ngModelChange",function(d){return e.passwordChange.emit(d)}),l(),S(31,Oe,3,4,"button",11),l(),S(32,Be,4,4,"div",12),l(),s(33,"button",13),c(34),o(35,"translate"),l()()()),t&2&&(i(),E("aria-label",n(2,27,"AUTH.GO_BACK")),i(2),m("icon",n(4,29,"ArrowLeft"))("width",32)("height",32),i(3),w(n(7,31,"AUTH.LOG_IN_TITLE")),i(4),m("ngClass",b(59,ye,n(11,33,e.currentTheme$)==="light",n(12,35,e.currentTheme$)!=="light")),i(3),h(" ",n(14,37,"AUTH.EMAIL_PROMPT_1")," "),i(2),U("border-red-600",e.loginError&&!e.email),P("ngModel",e.email),m("placeholder",n(16,39,"AUTH.EMAIL_PLACEHOLDER"))("ngClass",b(62,be,n(17,41,e.currentTheme$)==="light",n(18,43,e.currentTheme$)!=="light")),E("aria-invalid",e.loginError&&!e.email),i(4),m("ngIf",e.loginError&&!e.email),i(2),m("ngClass",b(65,ye,n(22,45,e.currentTheme$)==="light",n(23,47,e.currentTheme$)!=="light")),i(3),h(" ",n(25,49,"AUTH.PASSWORD_PROMPT")," "),i(3),U("border-red-600",e.loginError&&!e.password),m("type",e.showPassword?"text":"password"),P("ngModel",e.password),m("placeholder",n(28,51,"AUTH.PASSWORD_PLACEHOLDER"))("ngClass",b(68,be,n(29,53,e.currentTheme$)==="light",n(30,55,e.currentTheme$)!=="light")),E("aria-invalid",e.loginError&&!e.password),i(4),m("ngIf",e.password),i(),m("ngIf",e.loginError&&!e.password),i(),m("disabled",e.loginError&&(!e.email||!e.password)),i(),h(" ",n(35,57,"button.log_in")," "))},dependencies:[T,N,V,W,Y,H,$,G,K,q,j,z,k,L,Q,B],encapsulation:2})};var Re=(r,a)=>({"bg-[#141414]/60":r,"bg-[#8C8C8E]/50":a}),Ve=(r,a)=>({"bg-[var(--color-bg-2)]":r,"bg-[var(--color-bg-card)]":a}),We=(r,a)=>({"bg-[var(--color-secondary)]":r,"bg-[var(--color-gray-100)] text-[var(--color-white)]":a});function Fe(r,a){if(r&1&&(s(0,"article",10)(1,"header",11)(2,"div",12),o(3,"async"),o(4,"async"),c(5),l(),s(6,"h5"),c(7),o(8,"translate"),l()(),s(9,"p",13),c(10),o(11,"translate"),l()()),r&2){let t=a.$implicit,e=g();i(2),m("ngClass",b(12,We,n(3,4,e.currentTheme$)==="light",n(4,6,e.currentTheme$)==="dark")),i(3),h(" ",t.number," "),i(2),w(n(8,8,t.title)),i(3),w(n(11,10,t.description))}}var se=class r{constructor(a,t,e){this.router=a;this.translate=t;this.themeService=e;this.currentTheme$=this.themeService.theme$}features=[{number:1,title:"WELCOME_MODAL.FEATURES.FIND_CAFES.TITLE",description:"WELCOME_MODAL.FEATURES.FIND_CAFES.DESCRIPTION"},{number:2,title:"WELCOME_MODAL.FEATURES.SAVE_FAVORITES.TITLE",description:"WELCOME_MODAL.FEATURES.SAVE_FAVORITES.DESCRIPTION"},{number:3,title:"WELCOME_MODAL.FEATURES.COLLECT_ACHIEVEMENTS.TITLE",description:"WELCOME_MODAL.FEATURES.COLLECT_ACHIEVEMENTS.DESCRIPTION"}];currentTheme$;ngOnInit(){document.body.style.overflow="hidden"}ngOnDestroy(){document.body.style.overflow=""}goToCatalog(){this.router.navigate(["/catalog"])}goToProfile(){this.router.navigate(["/profile"])}static \u0275fac=function(t){return new(t||r)(C(te),C(fe),C(O))};static \u0275cmp=x({type:r,selectors:[["app-welcome-modal"]],decls:24,vars:32,consts:[[1,"modal-backdrop","fixed","inset-0","z-50","flex","items-center","justify-center","px-[24px]","backdrop-blur",3,"ngClass"],[1,"modal-content","flex","w-auto","flex-col","items-center","justify-between","gap-[32px]","rounded-[40px]","p-[24px]",2,"max-height","90vh","overflow-y","auto",3,"ngClass"],[1,"mx-auto","max-w-[640px]","flex","flex-col","items-center","justify-center","gap-5","px-4","text-center"],["alt","Welcome",3,"src"],[1,"body-font-1"],["aria-label","Feature Highlights",1,"hidden","lg:flex","gap-8"],["class","flex max-w-[316px] flex-col gap-4",4,"ngFor","ngForOf"],["aria-label","Welcome modal actions",1,"flex","gap-8"],["type","button",1,"button-font","button-bg-blue","h-[48px]","w-full","lg:whitespace-nowrap","px-[32px]","py-[12px]",3,"click"],["type","button",1,"button-font","button-bg-transparent","h-[48px]","w-full","px-[32px]","py-[12px]",3,"click"],[1,"flex","max-w-[316px]","flex-col","gap-4"],[1,"flex","items-center","gap-2"],["aria-hidden","true",1,"flex","h-10","w-10","shrink-0","items-center","justify-center","rounded-full",3,"ngClass"],[1,"body-font-1","text-left"]],template:function(t,e){t&1&&(s(0,"div",0),o(1,"async"),o(2,"async"),s(3,"div",1),o(4,"async"),o(5,"async"),s(6,"section",2),v(7,"img",3),o(8,"async"),s(9,"h4"),c(10),o(11,"translate"),l(),s(12,"p",4),c(13),o(14,"translate"),l()(),s(15,"section",5),S(16,Fe,12,15,"article",6),l(),s(17,"nav",7)(18,"button",8),u("click",function(){return e.goToCatalog()}),c(19),o(20,"translate"),l(),s(21,"button",9),u("click",function(){return e.goToProfile()}),c(22),o(23,"translate"),l()()()()),t&2&&(m("ngClass",b(26,Re,n(1,8,e.currentTheme$)==="light",n(2,10,e.currentTheme$)==="dark")),i(3),m("ngClass",b(29,Ve,n(4,12,e.currentTheme$)==="light",n(5,14,e.currentTheme$)==="dark")),i(4),m("src",n(8,16,e.currentTheme$)==="dark"?"./assets/WelcomeDarkTheme.svg":"./assets/Welcome.svg",le),i(3),w(n(11,18,"WELCOME_MODAL.TITLE")),i(3),w(n(14,20,"WELCOME_MODAL.DESCRIPTION")),i(3),m("ngForOf",e.features),i(3),h(" ",n(20,22,"WELCOME_MODAL.BUTTON.EXPLORE_CATALOG")," "),i(3),h(" ",n(23,24,"WELCOME_MODAL.BUTTON.SKIP")," "))},dependencies:[T,N,ue,k,L,B],encapsulation:2})};var De=(r,a)=>({"border-[var(--color-gray-100)]":r,"border-[var(--color-gray-20)]":a});function Ue(r,a){r&1&&(s(0,"div",12),c(1),o(2,"translate"),l()),r&2&&(i(),h(" ",n(2,1,"SOCIAL_LOGIN.PLEASE_USE_EMAIL")," "))}var pe=class r{constructor(a){this.themeService=a;this.currentTheme$=this.themeService.theme$}ICONS=F;showMessage=!1;currentTheme$;showTemporaryMessage(){this.showMessage=!0,setTimeout(()=>{this.showMessage=!1},3e3)}goHome(){console.log("Navigate to home or relevant page")}static \u0275fac=function(t){return new(t||r)(C(O))};static \u0275cmp=x({type:r,selectors:[["app-social-login"]],inputs:{showMessage:"showMessage"},decls:35,vars:38,consts:[[1,"flex","flex-col","gap-[20px]","text-center"],[1,"body-font-1"],[1,"flex","flex-col","gap-[10px]","lg:flex-row"],["type","button","aria-label","Sign in with Google",1,"flex","flex-1","items-center","justify-center","gap-[8px]","rounded-[40px]","border","border-[var(--color-button-green)]","px-[24px]","py-[12px]",3,"click"],[3,"icon"],[1,"button-font","text-[var(--color-button-green)]"],["type","button","aria-label","Sign in with Facebook",1,"flex","flex-1","items-center","justify-center","gap-[8px]","rounded-[40px]","border","border-[var(--color-button-blue)]","px-[24px]","py-[12px]",3,"click"],[1,"button-font","text-[var(--color-button-blue)]"],["type","button","aria-label","Sign in with Apple",1,"flex","flex-1","items-center","justify-center","gap-[8px]","rounded-[40px]","border","px-[24px]","py-[12px]",3,"click","ngClass"],[1,"button-font"],["role","link","tabindex","0",1,"cursor-pointer","underline",3,"click"],["class","mt-4 text-[var(--color-primary)]","role","alert","aria-live","polite",4,"ngIf"],["role","alert","aria-live","polite",1,"mt-4","text-[var(--color-primary)]"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"span",1),c(2),o(3,"translate"),l(),s(4,"div",2)(5,"button",3),u("click",function(){return e.showTemporaryMessage()}),v(6,"app-icon",4),s(7,"span",5),c(8),o(9,"translate"),l()(),s(10,"button",6),u("click",function(){return e.showTemporaryMessage()}),v(11,"app-icon",4),s(12,"span",7),c(13),o(14,"translate"),l()(),s(15,"button",8),o(16,"async"),o(17,"async"),u("click",function(){return e.showTemporaryMessage()}),v(18,"app-icon",4),o(19,"themedIcon"),s(20,"span",9),c(21),o(22,"translate"),l()()(),s(23,"span",1),c(24),o(25,"translate"),s(26,"a",10),u("click",function(){return e.goHome()}),c(27),o(28,"translate"),l(),c(29),o(30,"translate"),s(31,"a",10),u("click",function(){return e.goHome()}),c(32),o(33,"translate"),l()(),S(34,Ue,3,3,"div",11),l()),t&2&&(i(2),w(n(3,13,"SOCIAL_LOGIN.OR_SIGN_IN_WITH")),i(4),m("icon",e.ICONS.Google),i(2),w(n(9,15,"SOCIAL_LOGIN.GOOGLE")),i(3),m("icon",e.ICONS.Facebook),i(2),w(n(14,17,"SOCIAL_LOGIN.FACEBOOK")),i(2),m("ngClass",b(35,De,n(16,19,e.currentTheme$)==="light",n(17,21,e.currentTheme$)==="dark")),i(3),m("icon",n(19,23,"Apple")),i(3),w(n(22,25,"SOCIAL_LOGIN.APPLE")),i(3),h(" ",n(25,27,"SOCIAL_LOGIN.BY_REGISTERING")," "),i(3),h(" ",n(28,29,"SOCIAL_LOGIN.TERMS_OF_USE")," "),i(2),h(" ",n(30,31,"SOCIAL_LOGIN.AND")," "),i(3),h(" ",n(33,33,"SOCIAL_LOGIN.PRIVACY_POLICY")," "),i(2),m("ngIf",e.showMessage))},dependencies:[T,N,V,z,k,L,Q,B],encapsulation:2})};function He(r,a){if(r&1){let t=A();s(0,"app-auth-email-step",9),u("emailSubmit",function(p){_(t);let d=g();return f(d.onEmailSubmit(p))})("toggleForm",function(){_(t);let p=g();return f(p.toggleForm())}),l()}if(r&2){let t=g();m("email",t.email)}}function $e(r,a){if(r&1){let t=A();s(0,"app-auth-password-step",10),u("passwordChange",function(p){_(t);let d=g();return f(d.onPasswordChange(p))})("repeatPasswordChange",function(p){_(t);let d=g();return f(d.onRepeatPasswordChange(p))})("firstNameChange",function(p){_(t);let d=g();return f(d.firstName=p)})("lastNameChange",function(p){_(t);let d=g();return f(d.lastName=p)})("passwordSubmit",function(){_(t);let p=g();return f(p.onSubmitPassword())})("goBack",function(){_(t);let p=g();return f(p.goBackToEmail())}),l()}if(r&2){let t=g();m("email",t.email)("password",t.password)("repeatPassword",t.repeatPassword)("firstName",t.firstName)("lastName",t.lastName)}}function Ge(r,a){if(r&1){let t=A();s(0,"app-auth-login-step",11),u("loginSubmit",function(){_(t);let p=g();return f(p.onSubmitLogin())})("goBack",function(){_(t);let p=g();return f(p.goBackToEmail())})("emailChange",function(p){_(t);let d=g();return f(d.email=p)})("passwordChange",function(p){_(t);let d=g();return f(d.password=p)})("togglePasswordVisibility",function(){_(t);let p=g();return f(p.showPassword=!p.showPassword)}),l()}if(r&2){let t=g();m("email",t.email)("password",t.password)("showPassword",t.showPassword)("loginError",t.loginError)}}function je(r,a){if(r&1){let t=A();s(0,"app-welcome-modal",12),u("close",function(){_(t);let p=g();return f(p.closeWelcomeModal())}),l()}}var xe=class r{constructor(a,t,e,p){this.router=a;this.authService=t;this.storageService=e;this.userApi=p}ICONS=F;step=1;email="";password="";repeatPassword="";firstName="";lastName="";showPassword=!1;showRepeatPassword=!1;passwordTooWeak=!1;passwordMismatch=!1;loginError=!1;showMessage=!1;showWelcomeModal=!1;isNewUser=!1;onEmailSubmit(a){this.email=a,this.step=2,this.password="",this.repeatPassword="",this.passwordTooWeak=!1,this.passwordMismatch=!1,this.showPassword=!1,this.showRepeatPassword=!1}onSubmitPassword(){if(this.passwordTooWeak=!1,this.passwordMismatch=!1,this.password.length<6){this.passwordTooWeak=!0;return}if(this.password!==this.repeatPassword){this.passwordMismatch=!0;return}this.authService.register(this.email,this.password,this.firstName.trim(),this.lastName.trim()).subscribe({next:()=>{this.authService.login(this.email,this.password).subscribe({next:()=>{let a=this.storageService.getUser()?.userId;a&&this.userApi.getPublicUserProfile(a).subscribe({next:t=>{this.storageService.setPublicUserProfile(t),this.isNewUser=!0,this.showWelcomeModal=!0},error:t=>{alert("Failed to load profile: "+t.message),this.showWelcomeModal=!0}})},error:a=>{alert("Login error after registration: "+(a.message||a.statusText))}})},error:a=>{a.status===400&&a.error?.message?.includes("Email is already taken")?(alert("This email is already registered. Please use another or login."),this.step=3):alert("Registration error: "+(a.message||a.statusText))}})}onSubmitLogin(){if(this.loginError=!1,!this.email||!this.password){this.loginError=!0;return}this.authService.login(this.email,this.password).subscribe({next:()=>{let a=this.storageService.getUser()?.userId;a&&this.userApi.getPublicUserProfile(a).subscribe({next:t=>{this.storageService.setPublicUserProfile(t),this.isNewUser=!1,this.showWelcomeModal=!0},error:t=>{alert("Failed to load profile: "+t.message),this.showWelcomeModal=!0}})},error:a=>{alert("Login error: "+a.message)}})}toggleForm(){this.step=this.step===1?3:1}goBackToEmail(){this.step=1,this.password="",this.repeatPassword=""}onPasswordChange(a){this.password=a,this.passwordTooWeak=!1,this.passwordMismatch=!1}onRepeatPasswordChange(a){this.repeatPassword=a,this.passwordMismatch=!1}showTemporaryMessage(){this.showMessage=!0,setTimeout(()=>this.showMessage=!1,3e3)}closeWelcomeModal(){this.showWelcomeModal=!1;let a=localStorage.getItem("returnUrl")||"/";localStorage.removeItem("returnUrl"),this.router.navigateByUrl(a)}goHome(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||r)(C(te),C(ve),C(Ce),C(we))};static \u0275cmp=x({type:r,selectors:[["app-auth-page"]],decls:11,vars:6,consts:[[1,"mx-auto","flex","max-w-[1320px]","flex-col","gap-[32px]","px-5","lg:px-10","xxl:px-0"],[1,"grid","grid-cols-8"],[1,"col-span-8","lg:col-span-6","lg:col-start-2","xxl:col-span-4","xxl:col-start-3"],[3,"ngSwitch"],["class","w-full",3,"email","emailSubmit","toggleForm",4,"ngSwitchCase"],[3,"email","password","repeatPassword","firstName","lastName","passwordChange","repeatPasswordChange","firstNameChange","lastNameChange","passwordSubmit","goBack",4,"ngSwitchCase"],["class","w-full",3,"email","password","showPassword","loginError","loginSubmit","goBack","emailChange","passwordChange","togglePasswordVisibility",4,"ngSwitchCase"],[1,"col-span-8","lg:col-span-6","lg:col-start-2","xxl:col-span-4","xxl:col-start-3",3,"showTemporaryMessage","showMessage"],[3,"close",4,"ngIf"],[1,"w-full",3,"emailSubmit","toggleForm","email"],[3,"passwordChange","repeatPasswordChange","firstNameChange","lastNameChange","passwordSubmit","goBack","email","password","repeatPassword","firstName","lastName"],[1,"w-full",3,"loginSubmit","goBack","emailChange","passwordChange","togglePasswordVisibility","email","password","showPassword","loginError"],[3,"close"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"div",1)(2,"div",2),me(3,3),S(4,He,1,1,"app-auth-email-step",4)(5,$e,1,5,"app-auth-password-step",5)(6,Ge,1,4,"app-auth-login-step",6),de(),l()(),s(7,"div",1)(8,"app-social-login",7),u("showTemporaryMessage",function(){return e.showTemporaryMessage()}),l()(),s(9,"div",1),S(10,je,1,0,"app-welcome-modal",8),l()()),t&2&&(i(3),m("ngSwitch",e.step),i(),m("ngSwitchCase",1),i(),m("ngSwitchCase",2),i(),m("ngSwitchCase",3),i(2),m("showMessage",e.showMessage),i(2),m("ngIf",e.showWelcomeModal))},dependencies:[T,V,ge,he,W,pe,ie,re,ae,se],encapsulation:2})};export{xe as AuthPageComponent};
