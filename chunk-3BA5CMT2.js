import{a as Y}from"./chunk-R7A6PUGH.js";import{a as Ce}from"./chunk-IRQ2ASY2.js";import{a as he,e as ye}from"./chunk-F4QUQQ5E.js";import{b as xe,c as ve,f as ue,j as D}from"./chunk-OVFD7ZCN.js";import{$ as l,$a as k,A as u,Aa as de,Ab as J,B as _,Ba as me,Bb as _e,Ca as fe,Ea as P,Fa as B,J as E,Ja as s,K as le,Ka as c,La as H,M as i,Ma as S,P as I,Pa as K,R as M,Sa as O,Ta as A,Ua as F,W as f,X as U,Ya as j,_ as V,_a as q,a as oe,aa as o,b as ae,ba as r,ca as v,ga as b,ha as w,ia as C,ja as h,ka as d,na as pe,nb as ge,oa as se,pa as ce,qa as T,ra as Z,rb as W,ta as m,ua as y,ub as R,va as g,vb as N,wa as $,wb as X,xa as L,xb as G,ya as z,za as Q}from"./chunk-2Z55U5GN.js";var Ve=t=>[t],Se=t=>({"text-[var(--color-white)]":t});function Be(t,n){if(t&1&&(v(0,"img",18),s(1,"badgeImage")),t&2){let e=d();l("src",c(1,2,e.badgeType),E)("alt",e.badgeType+" badge")}}function Fe(t,n){if(t&1&&(b(0),v(1,"img",19),w()),t&2){let e=d();i(),l("src",e.editableUser.photoUrl,E)("ngClass","translate-middle h-[50px] w-[50px] lg:h-[100px] lg:w-[100px]")}}function ke(t,n){if(t&1&&(o(0,"div",20),v(1,"app-icon",21),r()),t&2){let e=d();l("ngClass","translate-middle h-[50px] w-[50px] lg:h-[80px] lg:w-[80px]"),i(),l("icon",e.ICONS.UserProfile)("width",64)("height",64)}}function Re(t,n){if(t&1&&(o(0,"span",22),m(1),r()),t&2){let e=d();i(),g(" ",e.editableUser.status," ")}}function Ne(t,n){if(t&1){let e=C();o(0,"textarea",23),Q("ngModelChange",function(p){u(e);let x=d();return z(x.editableUser.status,p)||(x.editableUser.status=p),_(p)}),h("ngModelChange",function(p){u(e);let x=d();return _(x.fieldChange.emit({field:"status",value:p}))}),r()}if(t&2){let e=d();L("ngModel",e.editableUser.status)}}function Ue(t,n){if(t&1){let e=C();o(0,"div",24)(1,"button",25),h("click",function(){u(e);let p=d();return _(p.handleEditToggle())}),m(2),s(3,"translate"),s(4,"translate"),r()()}if(t&2){let e=d();i(2),g(" ",e.isEditing?c(3,1,"infoSector.save"):c(4,3,"infoSector.editProfile")," ")}}function Oe(t,n){if(t&1){let e=C();b(0),o(1,"div",35)(2,"input",36),Q("ngModelChange",function(p){u(e);let x=d(2);return z(x.editableUser.firstName,p)||(x.editableUser.firstName=p),_(p)}),h("ngModelChange",function(p){u(e);let x=d(2);return _(x.fieldChange.emit({field:"firstName",value:p}))}),r(),o(3,"input",36),Q("ngModelChange",function(p){u(e);let x=d(2);return z(x.editableUser.lastName,p)||(x.editableUser.lastName=p),_(p)}),h("ngModelChange",function(p){u(e);let x=d(2);return _(x.fieldChange.emit({field:"lastName",value:p}))}),r()(),w()}if(t&2){let e=d(2);i(2),L("ngModel",e.editableUser.firstName),i(),L("ngModel",e.editableUser.lastName)}}function Ae(t,n){if(t&1&&(o(0,"p",37),m(1),r()),t&2){let e=d(2);i(),$(" ",e.editableUser.firstName," ",e.editableUser.lastName," ")}}function je(t,n){if(t&1){let e=C();b(0),o(1,"input",38),Q("ngModelChange",function(p){u(e);let x=d(2);return z(x.editableUser.defaultCity,p)||(x.editableUser.defaultCity=p),_(p)}),h("ngModelChange",function(p){u(e);let x=d(2);return _(x.fieldChange.emit({field:"defaultCity",value:p}))}),r(),w()}if(t&2){let e=d(2);i(),L("ngModel",e.editableUser.defaultCity)}}function De(t,n){if(t&1&&(o(0,"p",37),m(1),r()),t&2){let e=d(2);i(),g(" ",e.editableUser.defaultCity,", Ukraine ")}}function We(t,n){if(t&1&&(o(0,"div",26)(1,"div",27),s(2,"async"),o(3,"div",28),s(4,"async"),v(5,"app-icon",29),s(6,"themedIcon"),r(),o(7,"div",30)(8,"p",31),m(9),s(10,"translate"),r(),f(11,Oe,4,2,"ng-container",9)(12,Ae,2,2,"ng-template",null,2,S),r()(),o(14,"div",27),s(15,"async"),o(16,"div",28),s(17,"async"),v(18,"app-icon",32),s(19,"themedIcon"),r(),o(20,"div",30)(21,"p",31),m(22),s(23,"translate"),r(),f(24,je,2,1,"ng-container",9)(25,De,2,1,"ng-template",null,3,S),r()(),o(27,"div",27),s(28,"async"),o(29,"div",28),s(30,"async"),v(31,"app-icon",32),s(32,"themedIcon"),r(),o(33,"div",33)(34,"p",31),m(35),s(36,"translate"),r(),o(37,"p",34),s(38,"async"),m(39),r()()()()),t&2){let e=T(13),a=T(26),p=d();i(),l("ngClass",c(2,18,p.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",c(4,20,p.currentTheme$)==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]"),i(2),l("icon",c(6,22,"IdPass")),i(4),y(c(10,24,"infoSector.fullName")),i(2),l("ngIf",p.isEditing)("ngIfElse",e),i(3),l("ngClass",c(15,26,p.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",c(17,28,p.currentTheme$)==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]"),i(2),l("icon",c(19,30,"Location")),i(4),y(c(23,32,"infoSector.location")),i(2),l("ngIf",p.isEditing)("ngIfElse",a),i(3),l("ngClass",c(28,34,p.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)]"),i(2),l("ngClass",p.getBackgroundClass(c(30,36,p.currentTheme$))),i(2),l("icon",c(32,38,"Letter")),i(4),y(c(36,40,"infoSector.email")),i(2),l("ngClass",P(44,Se,c(38,42,p.currentTheme$)==="dark")),i(2),g(" ",p.editableUser.email," ")}}function $e(t,n){if(t&1){let e=C();o(0,"div",39)(1,"button",40),h("click",function(){u(e);let p=d();return _(p.handleEditToggle())}),m(2),s(3,"translate"),s(4,"translate"),r()()}if(t&2){let e=d();i(2),g(" ",e.isEditing?c(3,1,"infoSector.save"):c(4,3,"infoSector.editProfile")," ")}}function Le(t,n){if(t&1){let e=C();o(0,"div",41)(1,"div",42)(2,"div",43)(3,"h4"),m(4),s(5,"translate"),r(),o(6,"p",44),m(7),s(8,"translate"),r()(),o(9,"button",45),h("click",function(){u(e);let p=d();return _(p.showInfoModal=!1)}),m(10),s(11,"translate"),r()()()}t&2&&(i(4),y(c(5,3,"infoSector.unsavedChanges")),i(3),g(" ",c(8,5,"infoSector.unsavedChangesMessage")," "),i(3),g(" ",c(11,7,"infoSector.gotIt")," "))}var be=class t{constructor(n){this.themeService=n;this.currentTheme$=this.themeService.theme$}ICONS=X;badgeType=null;public=!1;editableUser;isEditing=!1;hasPendingChanges=!1;onToggleEdit=new U;fieldChange=new U;showInfoModal=!1;currentTheme$;showTemporaryInfoModal(){this.showInfoModal=!0,setTimeout(()=>this.showInfoModal=!1,5e3)}handleEditToggle(){this.isEditing&&this.hasPendingChanges&&this.showTemporaryInfoModal(),this.onToggleEdit.emit()}getBackgroundClass(n){return n?n==="light"?"bg-[var(--color-white)]":"bg-[var(--color-gray-100)]":"bg-[var(--color-white)]"}static \u0275fac=function(e){return new(e||t)(I(W))};static \u0275cmp=M({type:t,selectors:[["app-info-sector"]],inputs:{badgeType:"badgeType",public:"public",editableUser:"editableUser",isEditing:"isEditing",hasPendingChanges:"hasPendingChanges"},outputs:{onToggleEdit:"onToggleEdit",fieldChange:"fieldChange"},decls:24,vars:21,consts:[["defaultIcon",""],["statusEdit",""],["fullNameDisplay",""],["cityDisplay",""],[1,"flex","flex-col","gap-[32px]","rounded-[24px]","border","p-[16px]","px-5","lg:gap-[48px]","lg:p-[24px]","lg:px-0","xxl:gap-[48px]",3,"ngClass"],[1,"lg:flex","lg:justify-between","lg:p-6"],[1,"flex","items-start","gap-[20px]","lg:flex-row"],[1,"relative","h-[58px]","w-[58px]","flex-shrink-0","lg:h-[120px]","lg:w-[120px]"],["class","absolute left-0 top-0 h-full w-full object-contain",3,"src","alt",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-3",3,"ngClass"],[1,"flex","gap-2","text-[20px]","lg:text-[40px]"],[1,"flex","w-full"],["class","body-font-1 rounded-[40px] border border-[var(--color-gray-20)] p-3",4,"ngIf","ngIfElse"],["class","hidden h-12 lg:flex",4,"ngIf"],["class","flex flex-col lg:px-6 gap-[20px] lg:flex-row",4,"ngIf"],["class","button-bg-transparent flex lg:hidden",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black/50",4,"ngIf"],[1,"absolute","left-0","top-0","h-full","w-full","object-contain",3,"src","alt"],["alt","Profile",1,"absolute","left-1/2","top-1/2","rounded-full","object-cover",2,"transform","translate(-50%, -50%)",3,"src","ngClass"],[1,"absolute","left-1/2","top-1/2","flex","items-center","justify-center","rounded-full","bg-[var(--color-secondary)]",2,"transform","translate(-50%, -50%)",3,"ngClass"],[3,"icon","width","height"],[1,"body-font-1","rounded-[40px]","border","border-[var(--color-gray-20)]","p-3"],[1,"input-field","editable","h-[100px]","w-full","max-w-[600px]","resize-none",3,"ngModelChange","ngModel"],[1,"hidden","h-12","lg:flex"],[1,"menu-text-font","button-bg-transparent","px-6","py-3",3,"click"],[1,"flex","flex-col","lg:px-6","gap-[20px]","lg:flex-row"],[1,"flex","flex-1","gap-3","rounded-[40px]","border","p-2",3,"ngClass"],[1,"flex","h-[50px]","w-[50px]","items-center","justify-center","rounded-[25px]",3,"ngClass"],[1,"h-[26px]","w-[20px]",3,"icon"],[1,"flex","w-full","flex-col","gap-1"],[1,"body-font-1"],[3,"icon"],[1,"flex","flex-col","gap-1"],[1,"menu-text-font",3,"ngClass"],[1,"flex","gap-2"],["type","text",1,"input-field","editable",3,"ngModelChange","ngModel"],[1,"menu-text-font"],["type","text",1,"input-field","editable","city-input",3,"ngModelChange","ngModel"],[1,"button-bg-transparent","flex","lg:hidden"],[1,"menu-text-font","flex","items-center","justify-center","px-6","py-3",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/50"],[1,"flex","w-full","max-w-[650px]","flex-col","items-center","justify-between","gap-[32px]","rounded-[40px]","bg-[var(--color-bg-2)]","p-[24px]","text-center","text-[var(--color-gray-100)]"],[1,"flex","flex-col","gap-[20px]"],[1,"body-font-1","text-[var(--color-gray-100)]"],[1,"button-font","button-bg-blue","h-[48px]","w-full","px-[32px]","py-[12px]",3,"click"]],template:function(e,a){if(e&1&&(o(0,"div",4),s(1,"async"),o(2,"div",5)(3,"div",6)(4,"div",7),f(5,Be,2,4,"img",8)(6,Fe,2,2,"ng-container",9)(7,ke,2,4,"ng-template",null,0,S),r(),o(9,"div",10),s(10,"async"),o(11,"h3",11)(12,"span"),m(13),r(),o(14,"span"),m(15),r()(),o(16,"div",12),f(17,Re,2,1,"span",13)(18,Ne,1,1,"ng-template",null,1,S),r()()(),f(20,Ue,5,5,"div",14),r(),f(21,We,40,46,"div",15)(22,$e,5,5,"div",16)(23,Le,12,9,"div",17),r()),e&2){let p=T(8),x=T(19);l("ngClass",P(17,Ve,c(1,13,a.currentTheme$)==="light"?"border-[var(--color-gray-20)]":"border-[var(--color-gray-75)] bg-[var(--color-bg-card)]")),i(5),l("ngIf",a.badgeType),i(),l("ngIf",a.editableUser.photoUrl)("ngIfElse",p),i(3),l("ngClass",P(19,Se,c(10,15,a.currentTheme$)==="dark")),i(4),y(a.editableUser.firstName),i(2),y(a.editableUser.lastName),i(2),l("ngIf",!a.isEditing)("ngIfElse",x),i(3),l("ngIf",!a.public),i(),l("ngIf",!a.public),i(),l("ngIf",!a.public),i(),l("ngIf",a.showInfoModal)}},dependencies:[k,O,F,D,xe,ve,ue,G,N,j,J,Y,R],styles:[".input-field[_ngcontent-%COMP%]{border:none;border-bottom:1px solid transparent;background:transparent;outline:none;font-size:1rem;max-width:140px;transition:border-color .2s,background-color .2s;color:var(--color-gray-100);cursor:default}.input-field.city-input[_ngcontent-%COMP%]{max-width:150px}.input-field[readonly][_ngcontent-%COMP%]{color:var(--color-gray-70)}.input-field.editable[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-primary);background-color:var(--color-bg-1);cursor:text}.input-field.editable[_ngcontent-%COMP%]:focus{border-color:var(--color-secondary);background-color:var(--color-white)}"]})};var ze=(t,n)=>({"border-[var(--color-gray-20)] bg-[var(--color-white)]":t,"border-[var(--color-gray-75)] bg-[var(--color-bg-card)] text-[var(--color-white)]":n}),Qe=(t,n)=>({"border-[var(--color-gray-20)]":t,"border-[var(--color-gray-75)]":n}),He=(t,n)=>({"bg-gray-300":t,"bg-[var(--color-gray-100)]":n}),Ie=t=>({"text-[var(--color-gray-55)]":t}),Ke=(t,n)=>({"bg-[var(--color-bg-2)]":t,"bg-[var(--color-gray-75)]":n});function qe(t,n){t&1&&(o(0,"span"),m(1),s(2,"translate"),r()),t&2&&(i(),y(c(2,1,"achievements.subtitle")))}function Xe(t,n){if(t&1&&(b(0),v(1,"img",16),w()),t&2){let e=d().$implicit;i(),l("src",e.iconPath,E)("alt",e.alt)}}function Ge(t,n){if(t&1&&(v(0,"div",17),s(1,"async"),s(2,"async")),t&2){let e=d(3);l("ngClass",B(5,Ke,c(1,1,e.currentTheme$)==="light",c(2,3,e.currentTheme$)==="dark"))}}function Je(t,n){if(t&1&&(o(0,"article",11)(1,"div",12),s(2,"async"),s(3,"async"),f(4,Xe,2,2,"ng-container",13)(5,Ge,3,8,"ng-template",null,0,S),r(),o(7,"div",2)(8,"h6",14),m(9),s(10,"translate"),r(),o(11,"p",15),m(12),s(13,"translate"),r()()()),t&2){let e=n.$implicit,a=T(6),p=d(2);V("aria-label",e.ariaLabel),i(),l("ngClass",B(16,He,c(2,8,p.currentTheme$)==="light",c(3,10,p.currentTheme$)==="dark")),i(3),l("ngIf",p.unlockedTitles.has(e.key))("ngIfElse",a),i(4),l("ngClass",P(19,Ie,!p.unlockedTitles.has(e.key))),i(),g(" ",c(10,12,"achievements.list."+e.key+".title")," "),i(2),l("ngClass",P(21,Ie,!p.unlockedTitles.has(e.key))),i(),g(" ",c(13,14,"achievements.list."+e.key+".description")," ")}}function Ye(t,n){if(t&1&&(o(0,"section",6)(1,"div",7)(2,"h5"),m(3),s(4,"translate"),r(),v(5,"div",8),s(6,"async"),s(7,"async"),r(),o(8,"div",9),f(9,Je,14,23,"article",10),r()()),t&2){let e=n.$implicit,a=d();V("aria-labelledby",a.getIdFromTitle(e.sectionKey)),i(2),V("id",a.getIdFromTitle(e.sectionKey)),i(),g(" ",c(4,5,"achievements.sections."+e.sectionKey)," "),i(2),l("ngClass",B(11,Qe,c(6,7,a.currentTheme$)==="light",c(7,9,a.currentTheme$)==="dark")),i(4),l("ngForOf",e.achievements)}}var Te=class t{constructor(n){this.themeService=n;this.currentTheme$=this.themeService.theme$}achievements=[];unlockedTitles=new Set;public=!1;currentTheme$;getIdFromTitle(n){return n.toLowerCase().replace(/\s+/g,"-")}static \u0275fac=function(e){return new(e||t)(I(W))};static \u0275cmp=M({type:t,selectors:[["app-achievement-sector"]],inputs:{achievements:"achievements",unlockedTitles:"unlockedTitles",public:"public"},decls:10,vars:13,consts:[["locked",""],[1,"flex","min-w-[335px]","lg:px-0","flex-col","gap-6"],[1,"flex","flex-col","gap-2"],[4,"ngIf"],[1,"flex","flex-wrap","gap-x-[54px]","gap-y-[32px]","rounded-[40px]","border","p-6","lg:gap-y-[80px]",3,"ngClass"],["class","flex w-full flex-col gap-6 xxl:max-w-[600px]",4,"ngFor","ngForOf"],[1,"flex","w-full","flex-col","gap-6","xxl:max-w-[600px]"],[1,"flex","flex-col","gap-1","lg:gap-4"],[1,"w-full","border-b",3,"ngClass"],[1,"flex","justify-around","gap-3","lg:gap-[54px]"],["class","flex min-w-[83px] flex-col items-center gap-4 text-center lg:w-[167px] lg:justify-between","role","group",4,"ngFor","ngForOf"],["role","group",1,"flex","min-w-[83px]","flex-col","items-center","gap-4","text-center","lg:w-[167px]","lg:justify-between"],[1,"relative","flex","h-[60px]","w-[60px]","items-center","justify-center","rounded-full","lg:h-[100px]","lg:w-[100px]",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"lg:menu-text-font",3,"ngClass"],[1,"body-font-1","lg:text-[12px]",3,"ngClass"],["loading","eager",1,"lg:h-25","lg:w-25","h-[100px]","w-[100px]","object-contain",3,"src","alt"],[1,"h-[60px]","w-[60px]","lg:h-[100px]","lg:w-[100px]","rounded-full","border","border-[var(--color-gray-20)]",3,"ngClass"]],template:function(e,a){e&1&&(o(0,"div",1)(1,"div",2)(2,"h4"),m(3),s(4,"translate"),r(),f(5,qe,3,3,"span",3),r(),o(6,"div",4),s(7,"async"),s(8,"async"),f(9,Ye,10,14,"section",5),r()()),e&2&&(i(3),y(c(4,4,"achievements.title")),i(2),l("ngIf",!a.public),i(),l("ngClass",B(10,ze,c(7,6,a.currentTheme$)==="light",c(8,8,a.currentTheme$)==="dark")),i(3),l("ngForOf",a.achievements))},dependencies:[k,O,A,F,N,j,R],encapsulation:2})};var re=t=>({count:t});function Ze(t,n){if(t&1&&(o(0,"div",9)(1,"h4",10),m(2),s(3,"translate"),r(),o(4,"span",11),m(5),s(6,"translate"),r()()),t&2){let e=d();i(2),g(" ",c(3,2,"favoritesVisited.favoriteCafes")," "),i(3),g(" ",H(6,4,"favoritesVisited.favoriteCafesDescription",P(7,re,e.favoritePlaces.length))," ")}}function et(t,n){if(t&1&&(o(0,"span",11),m(1),s(2,"translate"),r()),t&2){let e=d();i(),g(" ",H(2,1,"favoritesVisited.favoriteCafesDescription",P(4,re,e.favoritePlaces.length))," ")}}function tt(t,n){if(t&1&&(o(0,"div",9),v(1,"app-slider-places",12),s(2,"translate"),s(3,"translate"),r()),t&2){let e=d();i(),l("places",e.favoritePlaces)("cardType",e.PlaceCardType.Favourites)("title",c(2,4,"favoritesVisited.favoriteCafes"))("subtitle",e.isPublic?null:H(3,6,"favoritesVisited.favoriteCafesDescription",P(9,re,e.favoritePlaces.length)))}}function it(t,n){if(t&1){let e=C();o(0,"app-place-card",15),h("favoriteToggled",function(p){u(e);let x=d(2);return _(x.onFavoriteToggled(p))}),r()}if(t&2){let e=n.$implicit,a=d(2);l("place",e)("cardType",a.PlaceCardType.Favourites)}}function nt(t,n){if(t&1&&(o(0,"div",13),f(1,it,1,2,"app-place-card",14),r()),t&2){let e=d();i(),l("ngForOf",e.favoritePlaces)}}function rt(t,n){t&1&&(o(0,"div",9)(1,"h4",10),m(2),s(3,"translate"),r(),o(4,"span",11),m(5),s(6,"translate"),r()()),t&2&&(i(2),g(" ",c(3,2,"favoritesVisited.alreadyVisited")," "),i(3),g(" ",c(6,4,"favoritesVisited.alreadyVisitedDescription")," "))}function ot(t,n){t&1&&(o(0,"span",11),m(1),s(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"favoritesVisited.alreadyVisitedDescription")," "))}function at(t,n){if(t&1&&(o(0,"div",9),v(1,"app-slider-places",12),s(2,"translate"),s(3,"translate"),r()),t&2){let e=d();i(),l("places",e.visitedPlaces)("cardType",e.PlaceCardType.Favourites)("title",c(2,4,"favoritesVisited.alreadyVisited"))("subtitle",e.isPublic?null:c(3,6,"favoritesVisited.alreadyVisitedDescription"))}}function lt(t,n){if(t&1){let e=C();o(0,"app-place-card",15),h("favoriteToggled",function(p){u(e);let x=d(2);return _(x.onFavoriteToggledVisited(p))}),r()}if(t&2){let e=n.$implicit,a=d(2);l("place",e)("cardType",a.PlaceCardType.Favourites)}}function pt(t,n){if(t&1&&(b(0),o(1,"div",13),f(2,lt,1,2,"app-place-card",14),r(),w()),t&2){let e=d();i(2),l("ngForOf",e.visitedPlaces)}}function st(t,n){t&1&&(o(0,"div",16),m(1),s(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"favoritesVisited.noVisitedPlaces")," "))}var Ee=class t{constructor(n){this.cdr=n}favoritePlaces=[];isPublic;favoritePlacesChanged=new U;visitedPlaces=[];visitedPlacesChanged=new U;PlaceCardType=he;ngOnInit(){this.cdr.detectChanges()}onFavoriteToggled(n){if(n.isFavorite){if(!this.favoritePlaces.some(e=>e.id===n.placeId)){let e=this.favoritePlaces.find(a=>a.id===n.placeId);e&&(this.favoritePlaces=[...this.favoritePlaces,e],this.favoritePlacesChanged.emit(this.favoritePlaces))}}else this.favoritePlaces=this.favoritePlaces.filter(e=>e.id!==n.placeId),this.favoritePlacesChanged.emit(this.favoritePlaces)}onFavoriteToggledVisited(n){n.isFavorite||(this.favoritePlaces=this.favoritePlaces.filter(e=>e.id!==n.placeId),this.favoritePlacesChanged.emit(this.favoritePlaces),this.cdr.detectChanges())}static \u0275fac=function(e){return new(e||t)(I(K))};static \u0275cmp=M({type:t,selectors:[["app-favorites-visited-sector"]],inputs:{favoritePlaces:"favoritePlaces",isPublic:"isPublic",visitedPlaces:"visitedPlaces"},outputs:{favoritePlacesChanged:"favoritePlacesChanged",visitedPlacesChanged:"visitedPlacesChanged"},decls:21,vars:15,consts:[["noVisitedPlacesTemplate",""],[1,"flex","flex-col","gap-12","px-5","lg:px-10","xxl:px-0"],[1,"flex","flex-col"],["class","block lg:hidden",4,"ngIf"],[1,"hidden","lg:block"],[1,"mb-2","text-[32px]","xxl:text-[40px]"],["class","body-font-1 mb-4 block",4,"ngIf"],["class","hidden w-full gap-x-[20px] gap-y-[12px] lg:grid lg:grid-cols-6 xxl:grid-cols-8",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"block","lg:hidden"],[1,"mb-2","text-[20px]","sm:text-[24px]"],[1,"body-font-1","mb-4","block"],[3,"places","cardType","title","subtitle"],[1,"hidden","w-full","gap-x-[20px]","gap-y-[12px]","lg:grid","lg:grid-cols-6","xxl:grid-cols-8"],["class","col-span-2",3,"place","cardType","favoriteToggled",4,"ngFor","ngForOf"],[1,"col-span-2",3,"favoriteToggled","place","cardType"],[1,"mt-4","text-gray-500","lg:block"]],template:function(e,a){if(e&1&&(o(0,"div",1)(1,"section",2),f(2,Ze,7,9,"div",3),o(3,"div",4)(4,"h4",5),m(5),s(6,"translate"),r(),f(7,et,3,6,"span",6),r(),f(8,tt,4,11,"div",3)(9,nt,2,1,"div",7),r(),o(10,"section",2),f(11,rt,7,6,"div",3),o(12,"div",4)(13,"h4",5),m(14),s(15,"translate"),r(),f(16,ot,3,3,"span",6),r(),f(17,at,4,8,"div",3)(18,pt,3,1,"ng-container",8)(19,st,3,3,"ng-template",null,0,S),r()()),e&2){let p=T(20);i(2),l("ngIf",a.favoritePlaces.length===0),i(3),g(" ",c(6,11,"favoritesVisited.favoriteCafes")," "),i(2),l("ngIf",!a.isPublic),i(),l("ngIf",a.favoritePlaces.length>0),i(),l("ngIf",a.favoritePlaces.length>0),i(2),l("ngIf",a.visitedPlaces.length===0),i(3),g(" ",c(15,13,"favoritesVisited.alreadyVisited")," "),i(2),l("ngIf",!a.isPublic),i(),l("ngIf",a.visitedPlaces.length>0),i(),l("ngIf",a.visitedPlaces.length>0)("ngIfElse",p)}},dependencies:[k,A,F,D,Ce,ye,N,R],encapsulation:2})};var ct=["slideRef"],Pe=(t,n)=>({"bg-[var(--color-white)]":t,"bg-[var(--color-gray-100)]":n});function dt(t,n){if(t&1&&v(0,"img",23),t&2){let e=n.ngIf;l("src",e,E)}}function mt(t,n){if(t&1&&v(0,"img",24),t&2){let e=d(4);l("src",e.userPhotoUrl,E)("alt",e.userFirstName+" "+e.userLastName)}}function ft(t,n){if(t&1&&(b(0),v(1,"app-icon",25),w()),t&2){let e=d(4);i(),l("icon",e.ICONS.Star)}}function gt(t,n){if(t&1&&(o(0,"div",12)(1,"div",13),f(2,dt,1,1,"img",14),s(3,"badgeImage"),f(4,mt,1,2,"img",15),r(),o(5,"div",16)(6,"div",17)(7,"span",18),m(8),r(),o(9,"span",5),m(10),r(),o(11,"div",19),f(12,ft,2,1,"ng-container",20),r()(),o(13,"div",21)(14,"span",22),m(15),r()()()()),t&2){let e=n.$implicit,a=d(3);i(2),l("ngIf",c(3,7,a.badgeType)),i(2),l("ngIf",a.userPhotoUrl),i(4),$("",a.userFirstName," ",a.userLastName),i(2),y(e.text),i(2),l("ngForOf",a.getStarsArray(e.rating)),i(3),y(a.formatDate(e.createdAt))}}function xt(t,n){if(t&1){let e=C();o(0,"button",26),h("click",function(){u(e);let p=d(3);return _(p.showMore())}),m(1),s(2,"translate"),r()}t&2&&(i(),g(" ",c(2,1,"reviews.showMore")," "))}function vt(t,n){if(t&1&&(b(0),o(1,"div",8),f(2,gt,16,9,"div",10),r(),f(3,xt,3,3,"button",11),w()),t&2){let e=d(2);i(2),l("ngForOf",e.reviews.slice(0,e.visibleCount)),i(),l("ngIf",e.reviews.length>e.visibleCount)}}function ut(t,n){t&1&&(o(0,"div",27),m(1),s(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"myReviews.noReviews")," "))}function _t(t,n){if(t&1&&(o(0,"section",8),f(1,vt,4,2,"ng-container",9)(2,ut,3,3,"ng-template",null,0,S),r()),t&2){let e=T(3),a=d();i(),l("ngIf",a.reviews.length>0)("ngIfElse",e)}}function ht(t,n){if(t&1&&(v(0,"img",44),s(1,"badgeImage")),t&2){let e=d(3);l("alt",me("",e.badgeType," badge"))("src",c(1,3,e.badgeType),E)}}function yt(t,n){if(t&1&&(b(0),v(1,"app-icon",25),w()),t&2){let e=d(3);i(),l("icon",e.ICONS.Star)}}function Ct(t,n){if(t&1&&(o(0,"div",45),m(1),r()),t&2){let e=d().$implicit;i(),g(" ",e.text," ")}}function bt(t,n){if(t&1){let e=C();b(0),o(1,"div",46)(2,"div",37),v(3,"img",47),o(4,"div",48)(5,"div",18),m(6),r(),o(7,"div",49),v(8,"app-icon",25),o(9,"span",50),m(10),r()()()(),o(11,"button",51),h("click",function(){let p=u(e).ngIf,x=d(3);return _(x.goToCafe(p.id))}),m(12),s(13,"translate"),v(14,"app-icon",25),r()(),w()}if(t&2){let e=n.ngIf,a=d(3);i(3),l("alt",de(e.name))("src",e.photoUrls[0],E),i(3),y(e.name),i(2),l("icon",a.ICONS.Location),i(2),y(e.address),i(2),g(" ",c(13,8,"myReviews.goToCafe")," "),i(2),l("icon",a.ICONS.ArrowDownRightPrimary)}}function wt(t,n){t&1&&(o(0,"div",52)(1,"em",53),m(2),s(3,"translate"),r()()),t&2&&(i(2),g(" ",c(3,1,"myReviews.noReviewText")," "))}function St(t,n){if(t&1&&(o(0,"div",35,1)(2,"div",36)(3,"div",37)(4,"div",38),f(5,ht,2,5,"img",39),v(6,"img",40),r(),o(7,"div",4)(8,"span"),m(9),r(),o(10,"div",41),s(11,"translate"),f(12,yt,2,1,"ng-container",20),r()()(),f(13,Ct,2,1,"div",42)(14,bt,15,10,"ng-container",43)(15,wt,4,3,"ng-template",null,2,S),r()()),t&2){let e=n.$implicit,a=T(16),p=d(2);Z("width",p.slideWidthPx-20,"px"),i(5),l("ngIf",p.badgeType),i(),l("src",p.userPhotoUrl,E),i(3),$("",p.userFirstName," ",p.userLastName),i(),V("aria-label",c(11,11,"myReviews.ratingStars")),i(2),l("ngForOf",p.createStarsArray(e.rating)),i(),l("ngIf",e.text)("ngIfElse",a),i(),l("ngIf",p.getPlaceById(e.cafeId))}}function It(t,n){if(t&1){let e=C();o(0,"section",28)(1,"div",29)(2,"button",30),s(3,"async"),s(4,"async"),s(5,"translate"),h("click",function(){u(e);let p=d();return _(p.prevSlide())}),v(6,"app-icon",31),s(7,"themedIcon"),r(),o(8,"div",32)(9,"div",33),f(10,St,17,13,"div",34),r()(),o(11,"button",30),s(12,"async"),s(13,"async"),s(14,"translate"),h("click",function(){u(e);let p=d();return _(p.nextSlide())}),v(15,"app-icon",31),s(16,"themedIcon"),r()()()}if(t&2){let e=d();i(2),l("ngClass",B(31,Pe,c(3,15,e.currentTheme$)==="light",c(4,17,e.currentTheme$)==="dark")),V("aria-label",c(5,19,"myReviews.ariaPrev")),i(4),l("icon",c(7,21,"ArrowLeft"))("width",32)("height",32),i(3),Z("transform",e.transformStyle)("width",e.slidesContainerWidthPx,"px"),i(),l("ngForOf",e.reviews),i(),l("ngClass",B(34,Pe,c(12,23,e.currentTheme$)==="light",c(13,25,e.currentTheme$)==="dark")),V("aria-label",c(14,27,"myReviews.ariaNext")),i(4),l("icon",c(16,29,"ArrowRight"))("width",32)("height",32)}}function Tt(t,n){t&1&&(o(0,"div",54),m(1),s(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"myReviews.noReviews")," "))}var Me=class t{constructor(n,e,a,p,x){this.authApiService=n;this.cdr=e;this.router=a;this.datePipe=p;this.themeService=x;this.currentTheme$=this.themeService.theme$}userId;userPhotoUrl=null;places=[];badgeType=null;reviews=[];userFirstName=null;userLastName=null;ICONS=X;isMobile=!1;visibleCount=2;currentSlide=0;slidesToShow=2;slideRefs;slideWidthPx=0;slidesContainerWidthPx=0;currentTheme$;ngOnInit(){if(this.onResize(),!this.userId){console.error("userId is not provided");return}this.authApiService.getPublicUserProfile(this.userId).subscribe({next:n=>{this.userFirstName=n.firstName,this.userLastName=n.lastName,this.reviews=(n.reviews||[]).map(e=>ae(oe({},e),{userId:this.userId,userName:this.userFirstName??"",userSurname:this.userLastName??"",userPhotoUrl:this.userPhotoUrl??""})),this.cdr.detectChanges()},error:n=>{console.error("Failed to load user profile reviews:",n)}})}ngAfterViewInit(){this.calculateSlideWidth(),window.addEventListener("resize",()=>{this.calculateSlideWidth()})}calculateSlideWidth(){let n=window.innerWidth>1320?1320:window.innerWidth,e=Math.min(n/this.slidesToShow-20,578);this.slideWidthPx=e+20,this.slidesContainerWidthPx=(e+20)*this.reviews.length,this.cdr.detectChanges()}updateSlideWidth(){if(this.slideRefs&&this.slideRefs.length>0){let n=this.slideRefs.first.nativeElement;this.slideWidthPx=n.offsetWidth+20,this.cdr.detectChanges()}}get transformStyle(){return`translateX(-${this.currentSlide*this.slideWidthPx}px)`}onResize(){let n=this.isMobile;this.isMobile=window.innerWidth<1440,n!==this.isMobile&&this.cdr.detectChanges()}showMore(){this.visibleCount<this.reviews.length&&(this.visibleCount+=2)}createStarsArray(n){return Array.from({length:n},(e,a)=>a)}getStarsArray(n){return this.createStarsArray(n)}formatDate(n){return this.datePipe.transform(n,"MMM dd, yyyy")}getPlaceById(n){return this.places.find(e=>e.id===n)}goToCafe(n){this.router.navigate(["/catalog",n])}prevSlide(){this.currentSlide===0?this.currentSlide=Math.max(this.reviews.length-this.slidesToShow,0):this.currentSlide--}nextSlide(){this.currentSlide>=this.reviews.length-this.slidesToShow?this.currentSlide=0:this.currentSlide++}static \u0275fac=function(e){return new(e||t)(I(_e),I(K),I(ge),I(q),I(W))};static \u0275cmp=M({type:t,selectors:[["app-my-reviews"]],viewQuery:function(e,a){if(e&1&&pe(ct,5),e&2){let p;se(p=ce())&&(a.slideRefs=p)}},hostBindings:function(e,a){e&1&&h("resize",function(){return a.onResize()},le)},inputs:{userId:"userId",userPhotoUrl:"userPhotoUrl",places:"places",badgeType:"badgeType"},features:[fe([q])],decls:12,vars:8,consts:[["noReviews",""],["slideRef",""],["noText",""],[1,"mx-auto","flex","w-full","max-w-[1320px]","flex-col","gap-6","px-5","lg:px-10","xxl:px-0"],[1,"flex","flex-col","gap-2"],[1,"body-font-1"],["class","flex flex-col gap-4",4,"ngIf"],["class","flex flex-col items-center",4,"ngIf"],[1,"flex","flex-col","gap-4"],[4,"ngIf","ngIfElse"],["class","flex gap-4 px-[18px] py-[15px]",4,"ngFor","ngForOf"],["class","underline","style","text-decoration-style: dotted; text-underline-offset: 4px;",3,"click",4,"ngIf"],[1,"flex","gap-4","px-[18px]","py-[15px]"],[1,"relative","inline-block","h-[50px]","w-[50px]","flex-shrink-0"],["alt","badge","class","pointer-events-none absolute left-0 top-0 h-full w-full rounded-full object-cover",3,"src",4,"ngIf"],["class","absolute left-1/2 top-1/2 h-[44px] w-[44px] rounded-full object-cover","style","transform: translate(-50%, -50%)",3,"src","alt",4,"ngIf"],[1,"flex","flex-1","flex-col","gap-2","lg:flex-row","lg:gap-0"],[1,"flex","flex-1","flex-col","gap-2"],[1,"menu-text-font"],[1,"flex","gap-[2px]"],[4,"ngFor","ngForOf"],[1,"w-22","relative","flex","flex-shrink-0","items-end","justify-between","lg:h-[113px]","lg:flex-col","lg:items-center"],[1,"body-font-2"],["alt","badge",1,"pointer-events-none","absolute","left-0","top-0","h-full","w-full","rounded-full","object-cover",3,"src"],[1,"absolute","left-1/2","top-1/2","h-[44px]","w-[44px]","rounded-full","object-cover",2,"transform","translate(-50%, -50%)",3,"src","alt"],[3,"icon"],[1,"underline",2,"text-decoration-style","dotted","text-underline-offset","4px",3,"click"],[1,"mt-4","text-gray-500"],[1,"flex","flex-col","items-center"],[1,"flex","w-full","max-w-[1320px]","items-center","gap-5"],[1,"flex","h-[52px]","w-[52px]","cursor-pointer","select-none","items-center","justify-center","rounded-full","border-none","p-2","text-2xl","transition",3,"click","ngClass"],[3,"icon","width","height"],[1,"flex","w-full","overflow-hidden"],[1,"flex","gap-[20px]","transition-transform","duration-300","ease-in-out","will-change-transform"],["class","box-border flex-shrink-0 px-2","style","max-width: 578px;",3,"width",4,"ngFor","ngForOf"],[1,"box-border","flex-shrink-0","px-2",2,"max-width","578px"],[1,"flex","h-full","flex-col","justify-between","gap-4","rounded-2xl","border","border-gray-300","p-4"],[1,"flex","items-center","gap-3"],[1,"relative","mr-2","h-[50px]","w-[50px]"],["class","absolute left-0 top-0 h-[50px] w-[50px] object-contain",3,"src","alt",4,"ngIf"],["alt","User photo",1,"absolute","left-1/2","top-1/2","h-[44px]","w-[44px]","-translate-x-1/2","-translate-y-1/2","transform","rounded-full","object-cover",3,"src"],[1,"flex","gap-0.5"],["class","body-font-1 overflow-hidden text-ellipsis","style",`
                      display: -webkit-box;
                      -webkit-line-clamp: 6;
                      -webkit-box-orient: vertical;
                      word-break: break-word;
                      height: 144px;
                    `,4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"absolute","left-0","top-0","h-[50px]","w-[50px]","object-contain",3,"src","alt"],[1,"body-font-1","overflow-hidden","text-ellipsis",2,"display","-webkit-box","-webkit-line-clamp","6","-webkit-box-orient","vertical","word-break","break-word","height","144px"],[1,"flex","flex-wrap","items-center","justify-between","gap-4"],[1,"h-12","w-12","rounded-full","object-cover",3,"src","alt"],[1,"flex","flex-col","gap-1"],[1,"flex","items-center","gap-2"],[1,"body-font-1","underline"],[1,"button-bg-transparent","flex","w-full","items-center","gap-2","whitespace-nowrap","px-4","py-2","lg:w-auto",3,"click"],[1,"flex","flex-1","items-center","justify-center","text-center"],[1,"text-gray-400"],[1,"mt-4","w-full","text-gray-500"]],template:function(e,a){e&1&&(o(0,"div",3)(1,"header",4)(2,"h5"),m(3),s(4,"translate"),r(),o(5,"span",5),m(6),s(7,"translate"),r()(),f(8,_t,4,2,"section",6)(9,It,17,37,"section",7)(10,Tt,3,3,"ng-template",null,0,S),r()),e&2&&(i(3),y(c(4,4,"myReviews.title")),i(3),y(c(7,6,"myReviews.description")),i(2),l("ngIf",a.isMobile),i(),l("ngIf",!a.isMobile&&a.reviews.length>0))},dependencies:[k,O,A,F,D,G,N,j,Y,R,J],encapsulation:2})};export{be as a,Te as b,Ee as c,Me as d};
